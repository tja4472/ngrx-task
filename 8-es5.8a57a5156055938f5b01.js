(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{kxqF:function(t,e,n){"use strict";n.r(e);var o=n("ofXK"),r=n("fXoL"),c=n("3Pt+"),i=n("quTh"),a=n("aCXV"),s=n("Xlwt"),u=n("TY1r"),p=n("SSqQ"),d=n("tyNb"),l=["cdkDropList","",1,"list",3,"cdkDropListDropped"],b=["cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf","ngForTrackBy"],f=["mat-fab","",1,"fab-bottom-right",3,"click"],m=["cdkDrag","","cdkDragLockAxis","y"],h=[1,"list-item"],g=[3,"checked","change"],k=[3,"routerLink"],v=[1,"middle",3,"ngClass"],C=[1,"name"],y=[1,"description"],w=["cdkDragHandle","",1,"drag-icon"],x=function(t){return["/tasks/current/edit",t]},O=function(t){return{"line-through":t}};function Z(t,e){if(1&t){var n=r.cc();r.bc(0,"div",m),r.bc(1,"div",h),r.bc(2,"mat-checkbox",g),r.hc("change",(function(t){r.vc(n);var o=e.$implicit;return r.mc().toggleCompleteItem.emit(o)})),r.Zb(),r.bc(3,"a",k),r.bc(4,"div",v),r.bc(5,"div",C),r.Hc(6),r.Zb(),r.bc(7,"div",y),r.Hc(8),r.Zb(),r.Zb(),r.Zb(),r.bc(9,"mat-icon",w),r.Hc(10,"drag_handle"),r.Zb(),r.Zb(),r.Zb()}if(2&t){var o=e.$implicit;r.xc(2),r.rc("checked",o.isComplete),r.xc(3),r.rc("routerLink",r.sc(5,x,o.id)),r.xc(4),r.rc("ngClass",r.sc(7,O,o.isComplete)),r.xc(6),r.Ic(o.name),r.xc(8),r.Ic(o.description)}}var I,T,D=((T=function(){function t(){this.reorderItems=new r.s,this.newCurrentTask=new r.s,this.toggleCompleteItem=new r.s}return t.prototype.ngOnInit=function(){},t.prototype.viewTrackBy=function(t,e){return e.id},t.prototype.drop=function(t){console.log("currentIndex",t.currentIndex),console.log("previousIndex",t.previousIndex);var e=this.currentTasks.slice();Object(a.e)(e,t.previousIndex,t.currentIndex);var n=e.map((function(t){return t.id}));console.log("aaa",e),console.log("bbb",n),n.forEach((function(t,e){console.log("X:",t,e)})),this.reorderItems.emit(n)},t}()).ngComponentDef=r.Pb({type:T,selectors:[["app-current-task-list"]],factory:function(t){return new(t||T)},inputs:{currentTasks:"currentTasks"},outputs:{reorderItems:"reorderItems",newCurrentTask:"newCurrentTask",toggleCompleteItem:"toggleCompleteItem"},consts:5,vars:2,template:function(t,e){1&t&&(r.bc(0,"div",l),r.hc("cdkDropListDropped",(function(t){return e.drop(t)})),r.Fc(1,Z,11,9,"div",b),r.Zb(),r.bc(2,"button",f),r.hc("click",(function(t){return e.newCurrentTask.emit()})),r.bc(3,"mat-icon"),r.Hc(4,"add"),r.Zb(),r.Zb()),2&t&&(r.xc(1),r.rc("ngForOf",e.currentTasks)("ngForTrackBy",e.viewTrackBy))},directives:[a.c,o.k,s.a,u.a,a.a,p.a,d.g,o.j,a.b],styles:["[_nghost-%COMP%]{background-color:green;display:flex;flex-grow:1;flex-direction:column}.cdk-drag-preview[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drop-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform 250ms cubic-bezier(0,0,.2,1);background-color:#00f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.list[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0px;overflow-y:scroll;display:flex;flex-direction:column}.list-item[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding:10px;border-bottom:1px solid #ccc;box-sizing:border-box;background:#fff}mat-checkbox[_ngcontent-%COMP%]{padding-right:10px}.drag-icon[_ngcontent-%COMP%]{cursor:move}.name[_ngcontent-%COMP%]{color:#000;font-size:medium}.description[_ngcontent-%COMP%]{color:gray;font-size:small;white-space:pre-line}.middle[_ngcontent-%COMP%]{flex-grow:1;padding-right:10px}.line-through[_ngcontent-%COMP%]{-webkit-text-decoration-line:line-through;text-decoration-line:line-through}a[_ngcontent-%COMP%]{text-decoration:none;display:flex;flex-wrap:nowrap;flex-grow:1}.fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:60px;bottom:16px;z-index:100}"]}),T),M=((I=function(){function t(t){this.formBuilder=t}return t.prototype.init=function(t){this.initialData=Object.assign({},t),this.form=this.formBuilder.group({name:[this.initialData.name,c.o.required],description:[this.initialData.description],isComplete:[this.initialData.isComplete]})},t.prototype.checkout=function(){var t=Object.assign({},this.initialData,this.form.value);return this.form.reset(),t},t}()).ngInjectableDef=r.Rb({token:I,factory:function(t){return new(t||I)(r.fc(c.c))},providedIn:null}),I),P=n("MSSf"),j=n("IRfi"),_=n("A2Vd"),F=n("3aqf"),S=["novalidate","",3,"formGroup","ngSubmit"],H=[1,"shipping-card"],z=["mat-raised-button","","color","primary","type","submit",3,"disabled"],N=["mat-raised-button","","color","accent","type","button",3,"click"],A=[1,"row"],L=[1,"col"],R=["formControlName","isComplete"],q=[1,"full-width"],V=["matInput","","id","name","placeholder","Name","formControlName","name"],B=[4,"ngIf"],E=["matInput","","id","description","placeholder","Description","formControlName","description","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],G=["autosize","cdkTextareaAutosize"];function $(t,e){1&t&&(r.bc(0,"mat-error"),r.Hc(1," Name is "),r.bc(2,"strong"),r.Hc(3,"required"),r.Zb(),r.Zb())}var W,X,J=((X=function(){function t(t){this.presenter=t,this.cancel=new r.s,this.checkout=new r.s}return Object.defineProperty(t.prototype,"checkoutForm",{get:function(){return this.presenter.form},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.presenter.init(this.todo)},t.prototype.cancelClick=function(){this.cancel.emit(this.todo)},t.prototype.onSubmit=function(){var t=this.presenter.checkout();this.checkout.emit(t)},t}()).ngComponentDef=r.Pb({type:X,selectors:[["app-current-task-detail-new"]],factory:function(t){return new(t||X)(r.Vb(M))},inputs:{todo:"todo"},outputs:{cancel:"cancel",checkout:"checkout"},features:[r.Gb([],[M])],consts:25,vars:3,template:function(t,e){1&t&&(r.bc(0,"form",S),r.hc("ngSubmit",(function(t){return e.onSubmit()})),r.bc(1,"mat-card",H),r.bc(2,"mat-card-actions"),r.bc(3,"button",z),r.Hc(4," Submit "),r.Zb(),r.bc(5,"button",N),r.hc("click",(function(t){return e.cancelClick()})),r.Hc(6," Cancel "),r.Zb(),r.Zb(),r.bc(7,"mat-card-header"),r.bc(8,"mat-card-title"),r.Hc(9,"New Current Task"),r.Zb(),r.Zb(),r.bc(10,"mat-card-content"),r.bc(11,"div",A),r.bc(12,"div",L),r.bc(13,"mat-checkbox",R),r.Hc(14,"Is Complete"),r.Zb(),r.Zb(),r.Zb(),r.bc(15,"div",A),r.bc(16,"div",L),r.bc(17,"mat-form-field",q),r.Wb(18,"input",V),r.Fc(19,$,4,0,"mat-error",B),r.Zb(),r.Zb(),r.Zb(),r.bc(20,"div",A),r.bc(21,"div",L),r.bc(22,"mat-form-field",q),r.Wb(23,"textarea",E,G),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb()),2&t&&(r.rc("formGroup",e.checkoutForm),r.xc(3),r.rc("disabled",!(e.checkoutForm.dirty&&e.checkoutForm.valid)),r.xc(19),r.rc("ngIf",e.checkoutForm.controls.name.hasError("required")))},directives:[c.p,c.l,c.g,P.a,P.b,s.a,P.d,P.f,P.c,p.a,c.k,c.f,j.b,_.a,c.b,o.l,F.b,j.a],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{margin:20px auto}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}"]}),X),K=((W=function(){function t(t){this.formBuilder=t}return t.prototype.init=function(t){this.initialData=Object.assign({},t),this.form=this.formBuilder.group({name:[this.initialData.name,c.o.required],description:[this.initialData.description],isComplete:[this.initialData.isComplete]})},t.prototype.checkout=function(){var t=Object.assign({},this.initialData,this.form.value);return this.form.reset(),t},t}()).ngInjectableDef=r.Rb({token:W,factory:function(t){return new(t||W)(r.fc(c.c))},providedIn:null}),W),Q=["novalidate","",3,"formGroup","ngSubmit"],U=[1,"shipping-card"],Y=["mat-raised-button","","color","primary","type","submit",3,"disabled"],tt=["mat-raised-button","","color","accent","type","button",3,"click"],et=[1,"row"],nt=[1,"col"],ot=["formControlName","isComplete"],rt=[1,"full-width"],ct=["matInput","","id","name","placeholder","Name","formControlName","name"],it=[4,"ngIf"],at=["matInput","","id","description","placeholder","Description","formControlName","description","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],st=["autosize","cdkTextareaAutosize"];function ut(t,e){1&t&&(r.bc(0,"mat-error"),r.Hc(1," Name is "),r.bc(2,"strong"),r.Hc(3,"required"),r.Zb(),r.Zb())}var pt,dt,lt,bt,ft,mt,ht,gt=((pt=function(){function t(t){this.presenter=t,this.cancel=new r.s,this.remove=new r.s,this.checkout=new r.s}return Object.defineProperty(t.prototype,"checkoutForm",{get:function(){return this.presenter.form},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.presenter.init(this.todo)},t.prototype.cancelClick=function(){this.cancel.emit(this.todo)},t.prototype.removeClick=function(){this.remove.emit(this.todo)},t.prototype.onSubmit=function(){var t=this.presenter.checkout();this.checkout.emit(t)},t}()).ngComponentDef=r.Pb({type:pt,selectors:[["app-current-task-detail-edit"]],factory:function(t){return new(t||pt)(r.Vb(K))},inputs:{todo:"todo"},outputs:{cancel:"cancel",remove:"remove",checkout:"checkout"},features:[r.Gb([],[K])],consts:27,vars:3,template:function(t,e){1&t&&(r.bc(0,"form",Q),r.hc("ngSubmit",(function(t){return e.onSubmit()})),r.bc(1,"mat-card",U),r.bc(2,"mat-card-actions"),r.bc(3,"button",Y),r.Hc(4," Submit "),r.Zb(),r.bc(5,"button",tt),r.hc("click",(function(t){return e.cancelClick()})),r.Hc(6," Cancel "),r.Zb(),r.bc(7,"button",tt),r.hc("click",(function(t){return e.removeClick()})),r.Hc(8," Remove "),r.Zb(),r.Zb(),r.bc(9,"mat-card-header"),r.bc(10,"mat-card-title"),r.Hc(11,"Edit Current Task"),r.Zb(),r.Zb(),r.bc(12,"mat-card-content"),r.bc(13,"div",et),r.bc(14,"div",nt),r.bc(15,"mat-checkbox",ot),r.Hc(16,"Is Complete"),r.Zb(),r.Zb(),r.Zb(),r.bc(17,"div",et),r.bc(18,"div",nt),r.bc(19,"mat-form-field",rt),r.Wb(20,"input",ct),r.Fc(21,ut,4,0,"mat-error",it),r.Zb(),r.Zb(),r.Zb(),r.bc(22,"div",et),r.bc(23,"div",nt),r.bc(24,"mat-form-field",rt),r.Wb(25,"textarea",at,st),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb()),2&t&&(r.rc("formGroup",e.checkoutForm),r.xc(3),r.rc("disabled",!(e.checkoutForm.dirty&&e.checkoutForm.valid)),r.xc(21),r.rc("ngIf",e.checkoutForm.controls.name.hasError("required")))},directives:[c.p,c.l,c.g,P.a,P.b,s.a,P.d,P.f,P.c,p.a,c.k,c.f,j.b,_.a,c.b,o.l,F.b,j.a],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{margin:20px auto}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}"]}),pt),kt=n("kt0X"),vt=n("E7rW"),Ct=n("9Odd"),yt=[3,"todo","cancel","remove","checkout"],wt=((dt=function(){function t(t){this.store=t,this.task$=t.pipe(Object(kt.u)(Ct.b.selectCurrentTaskFromRoute))}return t.prototype.ngOnInit=function(){},t.prototype.viewCancelled=function(t){this.store.dispatch(vt.e.cancelled({currentTask:t}))},t.prototype.viewRemoved=function(t){this.store.dispatch(vt.e.removed({currentTask:t}))},t.prototype.viewSaved=function(t){this.store.dispatch(vt.e.saved({currentTask:t}))},t}()).ngComponentDef=r.Pb({type:dt,selectors:[["app-current-task-detail-edit-page"]],factory:function(t){return new(t||dt)(r.Vb(kt.h))},consts:6,vars:8,template:function(t,e){1&t&&(r.bc(0,"app-current-task-detail-edit",yt),r.hc("cancel",(function(t){return e.viewCancelled(t)})),r.hc("remove",(function(t){return e.viewRemoved(t)})),r.hc("checkout",(function(t){return e.viewSaved(t)})),r.nc(1,"async"),r.Zb(),r.bc(2,"pre"),r.Hc(3),r.nc(4,"json"),r.nc(5,"async"),r.Zb()),2&t&&(r.rc("todo",r.oc(1,2,e.task$)),r.xc(3),r.Jc("Selected Current Task: ",r.oc(4,4,r.oc(5,6,e.task$)),"\n"))},directives:[gt],pipes:[o.b,o.f],styles:[""],changeDetection:0}),dt),xt=n("1OTw"),Ot=[3,"currentTasks","reorderItems","newCurrentTask","toggleCompleteItem"],Zt=["mat-icon-button","",1,"more-vert-menu",3,"matMenuTriggerFor"],It=["appMenu","matMenu"],Tt=["mat-menu-item","",3,"click"],Dt=((lt=function(){function t(t){this.store=t,this.currentTasks$=t.pipe(Object(kt.u)(Ct.b.selectCurrentTasksAll))}return t.prototype.ngOnInit=function(){this.store.dispatch(vt.g.enter())},t.prototype.reorderItems=function(t){this.store.dispatch(vt.m.reorderList({ids:t}))},t.prototype.viewClearCompleted=function(){this.store.dispatch(vt.g.clearCompleted())},t.prototype.viewNewCurrentTask=function(){this.store.dispatch(vt.g.newCurrentTask())},t.prototype.toggleCompleteItem=function(t){var e=Object.assign({},t,{isComplete:!t.isComplete});this.store.dispatch(vt.g.saveItem({currentTask:e}))},t}()).ngComponentDef=r.Pb({type:lt,selectors:[["app-current-tasks-page"]],factory:function(t){return new(t||lt)(r.Vb(kt.h))},consts:9,vars:4,template:function(t,e){if(1&t&&(r.bc(0,"app-current-task-list",Ot),r.hc("reorderItems",(function(t){return e.reorderItems(t)})),r.hc("newCurrentTask",(function(t){return e.viewNewCurrentTask()})),r.hc("toggleCompleteItem",(function(t){return e.toggleCompleteItem(t)})),r.nc(1,"async"),r.Zb(),r.bc(2,"button",Zt),r.bc(3,"mat-icon"),r.Hc(4,"more_vert"),r.Zb(),r.Zb(),r.bc(5,"mat-menu",null,It),r.bc(7,"button",Tt),r.hc("click",(function(t){return e.viewClearCompleted()})),r.Hc(8,"Clear Completed"),r.Zb(),r.Zb()),2&t){var n=r.uc(6);r.rc("currentTasks",r.oc(1,2,e.currentTasks$)),r.xc(2),r.rc("matMenuTriggerFor",n)}},directives:[D,s.a,xt.c,u.a,xt.d,xt.a],pipes:[o.b],styles:["[_nghost-%COMP%]{background-color:green;display:flex;flex-grow:1;flex-direction:column}.more-vert-menu[_ngcontent-%COMP%]{color:#fff;position:fixed;right:10px;top:10px;z-index:100}"],changeDetection:0}),lt),Mt=n("VEkB"),Pt=[3,"todo","cancel","checkout"],jt=((ft=function(){function t(t){this.store=t,this.task=Object(Mt.b)()}return t.prototype.ngOnInit=function(){},t.prototype.viewCancelled=function(t){this.store.dispatch(vt.f.cancelled())},t.prototype.viewSaved=function(t){this.store.dispatch(vt.f.saved({currentTask:t}))},t}()).ngComponentDef=r.Pb({type:ft,selectors:[["app-current-task-detail-new-page"]],factory:function(t){return new(t||ft)(r.Vb(kt.h))},consts:4,vars:4,template:function(t,e){1&t&&(r.bc(0,"app-current-task-detail-new",Pt),r.hc("cancel",(function(t){return e.viewCancelled(t)})),r.hc("checkout",(function(t){return e.viewSaved(t)})),r.Zb(),r.bc(1,"pre"),r.Hc(2),r.nc(3,"json"),r.Zb()),2&t&&(r.rc("todo",e.task),r.xc(2),r.Jc("Selected Current Task: ",r.oc(3,2,e.task),"\n"))},directives:[J],pipes:[o.f],styles:[""],changeDetection:0}),ft),_t=((bt=function(){function t(t){this.store=t}return t.prototype.ngOnDestroy=function(){this.store.dispatch(vt.h.destroyed())},t.prototype.ngOnInit=function(){},t}()).ngComponentDef=r.Pb({type:bt,selectors:[["app-current-tasks-root"]],factory:function(t){return new(t||bt)(r.Vb(kt.h))},consts:1,vars:0,template:function(t,e){1&t&&r.Wb(0,"router-outlet")},directives:[d.i],styles:["[_nghost-%COMP%]{background-color:red;display:flex;flex-grow:1;flex-direction:column}"],changeDetection:0}),bt),Ft=n("DKe4"),St=n("LRne"),Ht=n("eIep"),zt=n("pLZG"),Nt=n("SxV6"),At=n("vkgz"),Lt=n("IzEk"),Rt=n("fM1L"),qt=[{path:"",component:_t,canActivate:[Ft.a,(mt=function(){function t(t){this.store=t}return t.prototype.canActivate=function(){var t=this;return this.waitForAuth().pipe(Object(Ht.a)((function(){return t.waitForCurrentTasksToLoad().pipe(Object(Ht.a)((function(){return Object(St.a)(!0)})))})))},t.prototype.waitForAuth=function(){return this.store.pipe(Object(kt.u)(Rt.c.selectUser),Object(zt.a)((function(t){return!!t})),Object(Nt.a)())},t.prototype.waitForCurrentTasksToLoad=function(){var t=this;return this.store.pipe(Object(kt.u)(Ct.b.selectCurrentTasksLoaded),Object(At.a)((function(e){e||t.store.dispatch(vt.i.loadData())})),Object(zt.a)((function(t){return t})),Object(Lt.a)(1))},t}(),mt.ngInjectableDef=r.Rb({token:mt,factory:function(t){return new(t||mt)(r.fc(kt.h))},providedIn:"root"}),mt)],children:[{path:"",component:Dt},{path:"edit/:id",component:wt},{path:"new",component:jt}]}],Vt=((ht=function(){}).ngModuleDef=r.Tb({type:ht}),ht.ngInjectorDef=r.Sb({factory:function(t){return new(t||ht)},imports:[[d.h.forChild(qt)],d.h]}),ht);d.h.forChild(qt);var Bt,Et=[gt,J,D],Gt=[wt,jt,Dt,_t],$t=((Bt=function(){}).ngModuleDef=r.Tb({type:Bt}),Bt.ngInjectorDef=r.Sb({factory:function(t){return new(t||Bt)},imports:[[o.c,c.n,i.a,Vt]]}),Bt);n.d(e,"COMPONENTS",(function(){return Et})),n.d(e,"CONTAINERS",(function(){return Gt})),n.d(e,"CurrentTasksModule",(function(){return $t}))}}]);