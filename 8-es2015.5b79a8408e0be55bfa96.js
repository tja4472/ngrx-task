(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{kxqF:function(t,e,r){"use strict";r.r(e);var n=r("ofXK"),c=r("fXoL"),o=r("3Pt+"),i=r("quTh"),s=r("aCXV"),a=r("Xlwt"),l=r("TY1r"),b=r("SSqQ"),u=r("tyNb");const d=["cdkDropList","",1,"list",3,"cdkDropListDropped"],p=["cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf","ngForTrackBy"],m=["mat-fab","",1,"fab-bottom-right",3,"click"],h=["cdkDrag","","cdkDragLockAxis","y"],f=[1,"list-item"],k=[3,"checked","change"],g=[3,"routerLink"],w=[1,"middle",3,"ngClass"],x=[1,"name"],C=[1,"description"],v=["cdkDragHandle","",1,"drag-icon"],y=function(t){return["/tasks/current/edit",t]},O=function(t){return{"line-through":t}};function Z(t,e){if(1&t){const t=c.cc();c.bc(0,"div",h),c.bc(1,"div",f),c.bc(2,"mat-checkbox",k),c.hc("change",(function(r){c.vc(t);const n=e.$implicit;return c.mc().toggleCompleteItem.emit(n)})),c.Zb(),c.bc(3,"a",g),c.bc(4,"div",w),c.bc(5,"div",x),c.Hc(6),c.Zb(),c.bc(7,"div",C),c.Hc(8),c.Zb(),c.Zb(),c.Zb(),c.bc(9,"mat-icon",v),c.Hc(10,"drag_handle"),c.Zb(),c.Zb(),c.Zb()}if(2&t){const t=e.$implicit;c.xc(2),c.rc("checked",t.isComplete),c.xc(3),c.rc("routerLink",c.sc(5,y,t.id)),c.xc(4),c.rc("ngClass",c.sc(7,O,t.isComplete)),c.xc(6),c.Ic(t.name),c.xc(8),c.Ic(t.description)}}let I=(()=>{class t{constructor(){this.reorderItems=new c.s,this.newCurrentTask=new c.s,this.toggleCompleteItem=new c.s}ngOnInit(){}viewTrackBy(t,e){return e.id}drop(t){console.log("currentIndex",t.currentIndex),console.log("previousIndex",t.previousIndex);const e=[...this.currentTasks];Object(s.e)(e,t.previousIndex,t.currentIndex);const r=e.map(t=>t.id);console.log("aaa",e),console.log("bbb",r),r.forEach((t,e)=>{console.log("X:",t,e)}),this.reorderItems.emit(r)}}return t.ngComponentDef=c.Pb({type:t,selectors:[["app-current-task-list"]],factory:function(e){return new(e||t)},inputs:{currentTasks:"currentTasks"},outputs:{reorderItems:"reorderItems",newCurrentTask:"newCurrentTask",toggleCompleteItem:"toggleCompleteItem"},consts:5,vars:2,template:function(t,e){1&t&&(c.bc(0,"div",d),c.hc("cdkDropListDropped",(function(t){return e.drop(t)})),c.Fc(1,Z,11,9,"div",p),c.Zb(),c.bc(2,"button",m),c.hc("click",(function(t){return e.newCurrentTask.emit()})),c.bc(3,"mat-icon"),c.Hc(4,"add"),c.Zb(),c.Zb()),2&t&&(c.xc(1),c.rc("ngForOf",e.currentTasks)("ngForTrackBy",e.viewTrackBy))},directives:[s.c,n.k,a.a,l.a,s.a,b.a,u.g,n.j,s.b],styles:["[_nghost-%COMP%]{background-color:green;display:-webkit-box;display:flex;-webkit-box-flex:1;flex-grow:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.cdk-drag-preview[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drop-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform 250ms cubic-bezier(0,0,.2,1);transition:-webkit-transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1),-webkit-transform 250ms cubic-bezier(0,0,.2,1);background-color:#00f}.cdk-drag-animating[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform .3s cubic-bezier(0,0,.2,1);transition:-webkit-transform .3s cubic-bezier(0,0,.2,1);transition:transform .3s cubic-bezier(0,0,.2,1);transition:transform .3s cubic-bezier(0,0,.2,1),-webkit-transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.list[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;flex-basis:0px;overflow-y:scroll;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.list-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:nowrap;padding:10px;border-bottom:1px solid #ccc;box-sizing:border-box;background:#fff}mat-checkbox[_ngcontent-%COMP%]{padding-right:10px}.drag-icon[_ngcontent-%COMP%]{cursor:move}.name[_ngcontent-%COMP%]{color:#000;font-size:medium}.description[_ngcontent-%COMP%]{color:gray;font-size:small;white-space:pre-line}.middle[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;padding-right:10px}.line-through[_ngcontent-%COMP%]{-webkit-text-decoration-line:line-through;text-decoration-line:line-through}a[_ngcontent-%COMP%]{text-decoration:none;display:-webkit-box;display:flex;flex-wrap:nowrap;-webkit-box-flex:1;flex-grow:1}.fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:60px;bottom:16px;z-index:100}"]}),t})(),T=(()=>{class t{constructor(t){this.formBuilder=t}init(t){this.initialData=Object.assign({},t),this.form=this.formBuilder.group({name:[this.initialData.name,o.o.required],description:[this.initialData.description],isComplete:[this.initialData.isComplete]})}checkout(){const t=Object.assign({},this.initialData,this.form.value);return this.form.reset(),t}}return t.ngInjectableDef=c.Rb({token:t,factory:function(e){return new(e||t)(c.fc(o.c))},providedIn:null}),t})();var D=r("MSSf"),M=r("IRfi"),P=r("A2Vd"),z=r("3aqf");const _=["novalidate","",3,"formGroup","ngSubmit"],j=[1,"shipping-card"],F=["mat-raised-button","","color","primary","type","submit",3,"disabled"],S=["mat-raised-button","","color","accent","type","button",3,"click"],H=[1,"row"],N=[1,"col"],A=["formControlName","isComplete"],L=[1,"full-width"],R=["matInput","","id","name","placeholder","Name","formControlName","name"],q=[4,"ngIf"],V=["matInput","","id","description","placeholder","Description","formControlName","description","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],B=["autosize","cdkTextareaAutosize"];function E(t,e){1&t&&(c.bc(0,"mat-error"),c.Hc(1," Name is "),c.bc(2,"strong"),c.Hc(3,"required"),c.Zb(),c.Zb())}let G=(()=>{class t{constructor(t){this.presenter=t,this.cancel=new c.s,this.checkout=new c.s}get checkoutForm(){return this.presenter.form}ngOnInit(){this.presenter.init(this.todo)}cancelClick(){this.cancel.emit(this.todo)}onSubmit(){const t=this.presenter.checkout();this.checkout.emit(t)}}return t.ngComponentDef=c.Pb({type:t,selectors:[["app-current-task-detail-new"]],factory:function(e){return new(e||t)(c.Vb(T))},inputs:{todo:"todo"},outputs:{cancel:"cancel",checkout:"checkout"},features:[c.Gb([],[T])],consts:25,vars:3,template:function(t,e){1&t&&(c.bc(0,"form",_),c.hc("ngSubmit",(function(t){return e.onSubmit()})),c.bc(1,"mat-card",j),c.bc(2,"mat-card-actions"),c.bc(3,"button",F),c.Hc(4," Submit "),c.Zb(),c.bc(5,"button",S),c.hc("click",(function(t){return e.cancelClick()})),c.Hc(6," Cancel "),c.Zb(),c.Zb(),c.bc(7,"mat-card-header"),c.bc(8,"mat-card-title"),c.Hc(9,"New Current Task"),c.Zb(),c.Zb(),c.bc(10,"mat-card-content"),c.bc(11,"div",H),c.bc(12,"div",N),c.bc(13,"mat-checkbox",A),c.Hc(14,"Is Complete"),c.Zb(),c.Zb(),c.Zb(),c.bc(15,"div",H),c.bc(16,"div",N),c.bc(17,"mat-form-field",L),c.Wb(18,"input",R),c.Fc(19,E,4,0,"mat-error",q),c.Zb(),c.Zb(),c.Zb(),c.bc(20,"div",H),c.bc(21,"div",N),c.bc(22,"mat-form-field",L),c.Wb(23,"textarea",V,B),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb()),2&t&&(c.rc("formGroup",e.checkoutForm),c.xc(3),c.rc("disabled",!(e.checkoutForm.dirty&&e.checkoutForm.valid)),c.xc(19),c.rc("ngIf",e.checkoutForm.controls.name.hasError("required")))},directives:[o.p,o.l,o.g,D.a,D.b,a.a,D.d,D.f,D.c,b.a,o.k,o.f,M.b,P.a,o.b,n.l,z.b,M.a],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{margin:20px auto}.row[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.col[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;margin-right:20px}"]}),t})(),$=(()=>{class t{constructor(t){this.formBuilder=t}init(t){this.initialData=Object.assign({},t),this.form=this.formBuilder.group({name:[this.initialData.name,o.o.required],description:[this.initialData.description],isComplete:[this.initialData.isComplete]})}checkout(){const t=Object.assign({},this.initialData,this.form.value);return this.form.reset(),t}}return t.ngInjectableDef=c.Rb({token:t,factory:function(e){return new(e||t)(c.fc(o.c))},providedIn:null}),t})();const W=["novalidate","",3,"formGroup","ngSubmit"],X=[1,"shipping-card"],J=["mat-raised-button","","color","primary","type","submit",3,"disabled"],K=["mat-raised-button","","color","accent","type","button",3,"click"],Q=[1,"row"],U=[1,"col"],Y=["formControlName","isComplete"],tt=[1,"full-width"],et=["matInput","","id","name","placeholder","Name","formControlName","name"],rt=[4,"ngIf"],nt=["matInput","","id","description","placeholder","Description","formControlName","description","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],ct=["autosize","cdkTextareaAutosize"];function ot(t,e){1&t&&(c.bc(0,"mat-error"),c.Hc(1," Name is "),c.bc(2,"strong"),c.Hc(3,"required"),c.Zb(),c.Zb())}let it=(()=>{class t{constructor(t){this.presenter=t,this.cancel=new c.s,this.remove=new c.s,this.checkout=new c.s}get checkoutForm(){return this.presenter.form}ngOnInit(){this.presenter.init(this.todo)}cancelClick(){this.cancel.emit(this.todo)}removeClick(){this.remove.emit(this.todo)}onSubmit(){const t=this.presenter.checkout();this.checkout.emit(t)}}return t.ngComponentDef=c.Pb({type:t,selectors:[["app-current-task-detail-edit"]],factory:function(e){return new(e||t)(c.Vb($))},inputs:{todo:"todo"},outputs:{cancel:"cancel",remove:"remove",checkout:"checkout"},features:[c.Gb([],[$])],consts:27,vars:3,template:function(t,e){1&t&&(c.bc(0,"form",W),c.hc("ngSubmit",(function(t){return e.onSubmit()})),c.bc(1,"mat-card",X),c.bc(2,"mat-card-actions"),c.bc(3,"button",J),c.Hc(4," Submit "),c.Zb(),c.bc(5,"button",K),c.hc("click",(function(t){return e.cancelClick()})),c.Hc(6," Cancel "),c.Zb(),c.bc(7,"button",K),c.hc("click",(function(t){return e.removeClick()})),c.Hc(8," Remove "),c.Zb(),c.Zb(),c.bc(9,"mat-card-header"),c.bc(10,"mat-card-title"),c.Hc(11,"Edit Current Task"),c.Zb(),c.Zb(),c.bc(12,"mat-card-content"),c.bc(13,"div",Q),c.bc(14,"div",U),c.bc(15,"mat-checkbox",Y),c.Hc(16,"Is Complete"),c.Zb(),c.Zb(),c.Zb(),c.bc(17,"div",Q),c.bc(18,"div",U),c.bc(19,"mat-form-field",tt),c.Wb(20,"input",et),c.Fc(21,ot,4,0,"mat-error",rt),c.Zb(),c.Zb(),c.Zb(),c.bc(22,"div",Q),c.bc(23,"div",U),c.bc(24,"mat-form-field",tt),c.Wb(25,"textarea",nt,ct),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb()),2&t&&(c.rc("formGroup",e.checkoutForm),c.xc(3),c.rc("disabled",!(e.checkoutForm.dirty&&e.checkoutForm.valid)),c.xc(21),c.rc("ngIf",e.checkoutForm.controls.name.hasError("required")))},directives:[o.p,o.l,o.g,D.a,D.b,a.a,D.d,D.f,D.c,b.a,o.k,o.f,M.b,P.a,o.b,n.l,z.b,M.a],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{margin:20px auto}.row[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.col[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;margin-right:20px}"]}),t})();var st=r("kt0X"),at=r("E7rW"),lt=r("9Odd");const bt=[3,"todo","cancel","remove","checkout"];let ut=(()=>{class t{constructor(t){this.store=t,this.task$=t.pipe(Object(st.u)(lt.b.selectCurrentTaskFromRoute))}ngOnInit(){}viewCancelled(t){this.store.dispatch(at.e.cancelled({currentTask:t}))}viewRemoved(t){this.store.dispatch(at.e.removed({currentTask:t}))}viewSaved(t){this.store.dispatch(at.e.saved({currentTask:t}))}}return t.ngComponentDef=c.Pb({type:t,selectors:[["app-current-task-detail-edit-page"]],factory:function(e){return new(e||t)(c.Vb(st.h))},consts:6,vars:8,template:function(t,e){1&t&&(c.bc(0,"app-current-task-detail-edit",bt),c.hc("cancel",(function(t){return e.viewCancelled(t)})),c.hc("remove",(function(t){return e.viewRemoved(t)})),c.hc("checkout",(function(t){return e.viewSaved(t)})),c.nc(1,"async"),c.Zb(),c.bc(2,"pre"),c.Hc(3),c.nc(4,"json"),c.nc(5,"async"),c.Zb()),2&t&&(c.rc("todo",c.oc(1,2,e.task$)),c.xc(3),c.Jc("Selected Current Task: ",c.oc(4,4,c.oc(5,6,e.task$)),"\n"))},directives:[it],pipes:[n.b,n.f],styles:[""],changeDetection:0}),t})();var dt=r("1OTw");const pt=[3,"currentTasks","reorderItems","newCurrentTask","toggleCompleteItem"],mt=["mat-icon-button","",1,"more-vert-menu",3,"matMenuTriggerFor"],ht=["appMenu","matMenu"],ft=["mat-menu-item","",3,"click"];let kt=(()=>{class t{constructor(t){this.store=t,this.currentTasks$=t.pipe(Object(st.u)(lt.b.selectCurrentTasksAll))}ngOnInit(){this.store.dispatch(at.g.enter())}reorderItems(t){this.store.dispatch(at.m.reorderList({ids:t}))}viewClearCompleted(){this.store.dispatch(at.g.clearCompleted())}viewNewCurrentTask(){this.store.dispatch(at.g.newCurrentTask())}toggleCompleteItem(t){const e=Object.assign({},t,{isComplete:!t.isComplete});this.store.dispatch(at.g.saveItem({currentTask:e}))}}return t.ngComponentDef=c.Pb({type:t,selectors:[["app-current-tasks-page"]],factory:function(e){return new(e||t)(c.Vb(st.h))},consts:9,vars:4,template:function(t,e){if(1&t&&(c.bc(0,"app-current-task-list",pt),c.hc("reorderItems",(function(t){return e.reorderItems(t)})),c.hc("newCurrentTask",(function(t){return e.viewNewCurrentTask()})),c.hc("toggleCompleteItem",(function(t){return e.toggleCompleteItem(t)})),c.nc(1,"async"),c.Zb(),c.bc(2,"button",mt),c.bc(3,"mat-icon"),c.Hc(4,"more_vert"),c.Zb(),c.Zb(),c.bc(5,"mat-menu",null,ht),c.bc(7,"button",ft),c.hc("click",(function(t){return e.viewClearCompleted()})),c.Hc(8,"Clear Completed"),c.Zb(),c.Zb()),2&t){const t=c.uc(6);c.rc("currentTasks",c.oc(1,2,e.currentTasks$)),c.xc(2),c.rc("matMenuTriggerFor",t)}},directives:[I,a.a,dt.c,l.a,dt.d,dt.a],pipes:[n.b],styles:["[_nghost-%COMP%]{background-color:green;display:-webkit-box;display:flex;-webkit-box-flex:1;flex-grow:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.more-vert-menu[_ngcontent-%COMP%]{color:#fff;position:fixed;right:10px;top:10px;z-index:100}"],changeDetection:0}),t})();var gt=r("VEkB");const wt=[3,"todo","cancel","checkout"];let xt=(()=>{class t{constructor(t){this.store=t,this.task=Object(gt.b)()}ngOnInit(){}viewCancelled(t){this.store.dispatch(at.f.cancelled())}viewSaved(t){this.store.dispatch(at.f.saved({currentTask:t}))}}return t.ngComponentDef=c.Pb({type:t,selectors:[["app-current-task-detail-new-page"]],factory:function(e){return new(e||t)(c.Vb(st.h))},consts:4,vars:4,template:function(t,e){1&t&&(c.bc(0,"app-current-task-detail-new",wt),c.hc("cancel",(function(t){return e.viewCancelled(t)})),c.hc("checkout",(function(t){return e.viewSaved(t)})),c.Zb(),c.bc(1,"pre"),c.Hc(2),c.nc(3,"json"),c.Zb()),2&t&&(c.rc("todo",e.task),c.xc(2),c.Jc("Selected Current Task: ",c.oc(3,2,e.task),"\n"))},directives:[G],pipes:[n.f],styles:[""],changeDetection:0}),t})(),Ct=(()=>{class t{constructor(t){this.store=t}ngOnDestroy(){this.store.dispatch(at.h.destroyed())}ngOnInit(){}}return t.ngComponentDef=c.Pb({type:t,selectors:[["app-current-tasks-root"]],factory:function(e){return new(e||t)(c.Vb(st.h))},consts:1,vars:0,template:function(t,e){1&t&&c.Wb(0,"router-outlet")},directives:[u.i],styles:["[_nghost-%COMP%]{background-color:red;display:-webkit-box;display:flex;-webkit-box-flex:1;flex-grow:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}"],changeDetection:0}),t})();var vt=r("DKe4"),yt=r("LRne"),Ot=r("eIep"),Zt=r("pLZG"),It=r("SxV6"),Tt=r("vkgz"),Dt=r("IzEk"),Mt=r("fM1L");const Pt=[{path:"",component:Ct,canActivate:[vt.a,(()=>{class t{constructor(t){this.store=t}canActivate(){return this.waitForAuth().pipe(Object(Ot.a)(()=>this.waitForCurrentTasksToLoad().pipe(Object(Ot.a)(()=>Object(yt.a)(!0)))))}waitForAuth(){return this.store.pipe(Object(st.u)(Mt.c.selectUser),Object(Zt.a)(t=>!!t),Object(It.a)())}waitForCurrentTasksToLoad(){return this.store.pipe(Object(st.u)(lt.b.selectCurrentTasksLoaded),Object(Tt.a)(t=>{t||this.store.dispatch(at.i.loadData())}),Object(Zt.a)(t=>t),Object(Dt.a)(1))}}return t.ngInjectableDef=c.Rb({token:t,factory:function(e){return new(e||t)(c.fc(st.h))},providedIn:"root"}),t})()],children:[{path:"",component:kt},{path:"edit/:id",component:ut},{path:"new",component:xt}]}];let zt=(()=>{class t{}return t.ngModuleDef=c.Tb({type:t}),t.ngInjectorDef=c.Sb({factory:function(e){return new(e||t)},imports:[[u.h.forChild(Pt)],u.h]}),t})();u.h.forChild(Pt);const _t=[it,G,I],jt=[ut,xt,kt,Ct];let Ft=(()=>{class t{}return t.ngModuleDef=c.Tb({type:t}),t.ngInjectorDef=c.Sb({factory:function(e){return new(e||t)},imports:[[n.c,o.n,i.a,zt]]}),t})();r.d(e,"COMPONENTS",(function(){return _t})),r.d(e,"CONTAINERS",(function(){return jt})),r.d(e,"CurrentTasksModule",(function(){return Ft}))}}]);