function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{kxqF:function(e,t,n){"use strict";n.r(t);var r=n("ofXK"),i=n("fXoL"),o=n("3Pt+"),a=n("quTh"),c=n("aCXV"),l=n("Xlwt"),s=n("TY1r"),u=n("SSqQ"),m=n("tyNb"),d=["cdkDropList","",1,"list",3,"cdkDropListDropped"],p=["cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf","ngForTrackBy"],f=["mat-fab","",1,"fab-bottom-right",3,"click"],k=["cdkDrag","","cdkDragLockAxis","y"],h=[1,"list-item"],b=[3,"checked","change"],g=[3,"routerLink"],v=[1,"middle",3,"ngClass"],C=[1,"name"],x=[1,"description"],w=["cdkDragHandle","",1,"drag-icon"],y=function(e){return["/tasks/current/edit",e]},S=function(e){return{"line-through":e}};function E(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",k),i["\u0275\u0275elementStart"](1,"div",h),i["\u0275\u0275elementStart"](2,"mat-checkbox",b),i["\u0275\u0275listener"]("change",(function(e){i["\u0275\u0275restoreView"](n);var r=t.$implicit;return i["\u0275\u0275nextContext"]().toggleCompleteItem.emit(r)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"a",g),i["\u0275\u0275elementStart"](4,"div",v),i["\u0275\u0275elementStart"](5,"div",C),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",x),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"mat-icon",w),i["\u0275\u0275text"](10,"drag_handle"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;i["\u0275\u0275select"](2),i["\u0275\u0275property"]("checked",r.isComplete),i["\u0275\u0275select"](3),i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pureFunction1"](5,y,r.id)),i["\u0275\u0275select"](4),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](7,S,r.isComplete)),i["\u0275\u0275select"](6),i["\u0275\u0275textInterpolate"](r.name),i["\u0275\u0275select"](8),i["\u0275\u0275textInterpolate"](r.description)}}var I,O,_=((O=function(){function e(){_classCallCheck(this,e),this.reorderItems=new i.EventEmitter,this.newCurrentTask=new i.EventEmitter,this.toggleCompleteItem=new i.EventEmitter}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"viewTrackBy",value:function(e,t){return t.id}},{key:"drop",value:function(e){console.log("currentIndex",e.currentIndex),console.log("previousIndex",e.previousIndex);var t=_toConsumableArray(this.currentTasks);Object(c.e)(t,e.previousIndex,e.currentIndex);var n=t.map((function(e){return e.id}));console.log("aaa",t),console.log("bbb",n),n.forEach((function(e,t){console.log("X:",e,t)})),this.reorderItems.emit(n)}}]),e}()).ngComponentDef=i["\u0275\u0275defineComponent"]({type:O,selectors:[["app-current-task-list"]],factory:function(e){return new(e||O)},inputs:{currentTasks:"currentTasks"},outputs:{reorderItems:"reorderItems",newCurrentTask:"newCurrentTask",toggleCompleteItem:"toggleCompleteItem"},consts:5,vars:2,template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",d),i["\u0275\u0275listener"]("cdkDropListDropped",(function(e){return t.drop(e)})),i["\u0275\u0275template"](1,E,11,9,"div",p),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"button",f),i["\u0275\u0275listener"]("click",(function(e){return t.newCurrentTask.emit()})),i["\u0275\u0275elementStart"](3,"mat-icon"),i["\u0275\u0275text"](4,"add"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275select"](1),i["\u0275\u0275property"]("ngForOf",t.currentTasks)("ngForTrackBy",t.viewTrackBy))},directives:[c.c,r.k,l.a,s.a,c.a,u.a,m.i,r.j,c.b],styles:["[_nghost-%COMP%]{background-color:green;display:-webkit-box;display:flex;-webkit-box-flex:1;flex-grow:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.cdk-drag-preview[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drop-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform 250ms cubic-bezier(0,0,.2,1);transition:-webkit-transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1),-webkit-transform 250ms cubic-bezier(0,0,.2,1);background-color:#00f}.cdk-drag-animating[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform .3s cubic-bezier(0,0,.2,1);transition:-webkit-transform .3s cubic-bezier(0,0,.2,1);transition:transform .3s cubic-bezier(0,0,.2,1);transition:transform .3s cubic-bezier(0,0,.2,1),-webkit-transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.list[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;flex-basis:0px;overflow-y:scroll;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.list-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:nowrap;padding:10px;border-bottom:1px solid #ccc;box-sizing:border-box;background:#fff}mat-checkbox[_ngcontent-%COMP%]{padding-right:10px}.drag-icon[_ngcontent-%COMP%]{cursor:move}.name[_ngcontent-%COMP%]{color:#000;font-size:medium}.description[_ngcontent-%COMP%]{color:gray;font-size:small;white-space:pre-line}.middle[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;padding-right:10px}.line-through[_ngcontent-%COMP%]{-webkit-text-decoration-line:line-through;text-decoration-line:line-through}a[_ngcontent-%COMP%]{text-decoration:none;display:-webkit-box;display:flex;flex-wrap:nowrap;-webkit-box-flex:1;flex-grow:1}.fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:60px;bottom:16px;z-index:100}"]}),O),T=((I=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t}return _createClass(e,[{key:"init",value:function(e){this.initialData=Object.assign({},e),this.form=this.formBuilder.group({name:[this.initialData.name,o.o.required],description:[this.initialData.description],isComplete:[this.initialData.isComplete]})}},{key:"checkout",value:function(){var e=Object.assign({},this.initialData,this.form.value);return this.form.reset(),e}}]),e}()).ngInjectableDef=i["\u0275\u0275defineInjectable"]({token:I,factory:function(e){return new(e||I)(i["\u0275\u0275inject"](o.c))},providedIn:null}),I),j=n("MSSf"),D=n("IRfi"),M=n("A2Vd"),P=n("3aqf"),z=["novalidate","",3,"formGroup","ngSubmit"],F=[1,"shipping-card"],A=["mat-raised-button","","color","primary","type","submit",3,"disabled"],N=["mat-raised-button","","color","accent","type","button",3,"click"],L=[1,"row"],B=[1,"col"],R=["formControlName","isComplete"],q=[1,"full-width"],G=["matInput","","id","name","placeholder","Name","formControlName","name"],V=[4,"ngIf"],X=["matInput","","id","description","placeholder","Description","formControlName","description","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],$=["autosize","cdkTextareaAutosize"];function W(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1," Name is "),i["\u0275\u0275elementStart"](2,"strong"),i["\u0275\u0275text"](3,"required"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}var H,J,K=((H=function(){function e(t){_classCallCheck(this,e),this.presenter=t,this.cancel=new i.EventEmitter,this.checkout=new i.EventEmitter}return _createClass(e,[{key:"ngOnInit",value:function(){this.presenter.init(this.todo)}},{key:"cancelClick",value:function(){this.cancel.emit(this.todo)}},{key:"onSubmit",value:function(){var e=this.presenter.checkout();this.checkout.emit(e)}},{key:"checkoutForm",get:function(){return this.presenter.form}}]),e}()).ngComponentDef=i["\u0275\u0275defineComponent"]({type:H,selectors:[["app-current-task-detail-new"]],factory:function(e){return new(e||H)(i["\u0275\u0275directiveInject"](T))},inputs:{todo:"todo"},outputs:{cancel:"cancel",checkout:"checkout"},features:[i["\u0275\u0275ProvidersFeature"]([],[T])],consts:25,vars:3,template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"form",z),i["\u0275\u0275listener"]("ngSubmit",(function(e){return t.onSubmit()})),i["\u0275\u0275elementStart"](1,"mat-card",F),i["\u0275\u0275elementStart"](2,"mat-card-actions"),i["\u0275\u0275elementStart"](3,"button",A),i["\u0275\u0275text"](4," Submit "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"button",N),i["\u0275\u0275listener"]("click",(function(e){return t.cancelClick()})),i["\u0275\u0275text"](6," Cancel "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"mat-card-header"),i["\u0275\u0275elementStart"](8,"mat-card-title"),i["\u0275\u0275text"](9,"New Current Task"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"mat-card-content"),i["\u0275\u0275elementStart"](11,"div",L),i["\u0275\u0275elementStart"](12,"div",B),i["\u0275\u0275elementStart"](13,"mat-checkbox",R),i["\u0275\u0275text"](14,"Is Complete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",L),i["\u0275\u0275elementStart"](16,"div",B),i["\u0275\u0275elementStart"](17,"mat-form-field",q),i["\u0275\u0275element"](18,"input",G),i["\u0275\u0275template"](19,W,4,0,"mat-error",V),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"div",L),i["\u0275\u0275elementStart"](21,"div",B),i["\u0275\u0275elementStart"](22,"mat-form-field",q),i["\u0275\u0275element"](23,"textarea",X,$),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("formGroup",t.checkoutForm),i["\u0275\u0275select"](3),i["\u0275\u0275property"]("disabled",!(t.checkoutForm.dirty&&t.checkoutForm.valid)),i["\u0275\u0275select"](19),i["\u0275\u0275property"]("ngIf",t.checkoutForm.controls.name.hasError("required")))},directives:[o.p,o.l,o.g,j.a,j.b,l.a,j.d,j.f,j.c,u.a,o.k,o.f,D.b,M.a,o.b,r.l,P.b,D.a],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{margin:20px auto}.row[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.col[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;margin-right:20px}"]}),H),Q=n("XNiG"),U=n("1G5W"),Y=n("VEkB"),Z=((J=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t,this.unsubscribe=new Q.a}return _createClass(e,[{key:"init",value:function(e){var t=this;this.initialData=Object.assign({},e),this.form=this.formBuilder.group({name:[this.initialData.name,o.o.required],description:[this.initialData.description],isComplete:[this.initialData.isComplete],completedTimestamp:[this.initialData.completedTimestamp]}),this.isCompleteControl.valueChanges.pipe(Object(U.a)(this.unsubscribe)).subscribe((function(e){t.completedTimestampControl.setValue(Object(Y.a)(e))}))}},{key:"checkout",value:function(){var e=Object.assign({},this.initialData,this.form.value);return this.form.reset(),e}},{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}},{key:"completedTimestampControl",get:function(){return this.form.get("completedTimestamp")}},{key:"isCompleteControl",get:function(){return this.form.get("isComplete")}}]),e}()).ngInjectableDef=i["\u0275\u0275defineInjectable"]({token:J,factory:function(e){return new(e||J)(i["\u0275\u0275inject"](o.c))},providedIn:null}),J),ee=["novalidate","",3,"formGroup","ngSubmit"],te=[1,"shipping-card"],ne=["mat-raised-button","","color","primary","type","submit",3,"disabled"],re=["mat-raised-button","","color","accent","type","button",3,"click"],ie=[1,"row"],oe=[1,"col"],ae=["formControlName","isComplete"],ce=[1,"full-width"],le=["matInput","","id","name","placeholder","Name","formControlName","name"],se=[4,"ngIf"],ue=["matInput","","id","description","placeholder","Description","formControlName","description","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],me=["autosize","cdkTextareaAutosize"];function de(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1," Name is "),i["\u0275\u0275elementStart"](2,"strong"),i["\u0275\u0275text"](3,"required"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}var pe,fe,ke,he,be,ge,ve,Ce=((pe=function(){function e(t){_classCallCheck(this,e),this.presenter=t,this.cancel=new i.EventEmitter,this.remove=new i.EventEmitter,this.checkout=new i.EventEmitter}return _createClass(e,[{key:"ngOnInit",value:function(){this.presenter.init(this.todo)}},{key:"cancelClick",value:function(){this.cancel.emit(this.todo)}},{key:"removeClick",value:function(){this.remove.emit(this.todo)}},{key:"onSubmit",value:function(){var e=this.presenter.checkout();this.checkout.emit(e)}},{key:"checkoutForm",get:function(){return this.presenter.form}}]),e}()).ngComponentDef=i["\u0275\u0275defineComponent"]({type:pe,selectors:[["app-current-task-detail-edit"]],factory:function(e){return new(e||pe)(i["\u0275\u0275directiveInject"](Z))},inputs:{todo:"todo"},outputs:{cancel:"cancel",remove:"remove",checkout:"checkout"},features:[i["\u0275\u0275ProvidersFeature"]([],[Z])],consts:27,vars:3,template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"form",ee),i["\u0275\u0275listener"]("ngSubmit",(function(e){return t.onSubmit()})),i["\u0275\u0275elementStart"](1,"mat-card",te),i["\u0275\u0275elementStart"](2,"mat-card-actions"),i["\u0275\u0275elementStart"](3,"button",ne),i["\u0275\u0275text"](4," Submit "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"button",re),i["\u0275\u0275listener"]("click",(function(e){return t.cancelClick()})),i["\u0275\u0275text"](6," Cancel "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"button",re),i["\u0275\u0275listener"]("click",(function(e){return t.removeClick()})),i["\u0275\u0275text"](8," Remove "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"mat-card-header"),i["\u0275\u0275elementStart"](10,"mat-card-title"),i["\u0275\u0275text"](11,"Edit Current Task"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"mat-card-content"),i["\u0275\u0275elementStart"](13,"div",ie),i["\u0275\u0275elementStart"](14,"div",oe),i["\u0275\u0275elementStart"](15,"mat-checkbox",ae),i["\u0275\u0275text"](16,"Is Complete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",ie),i["\u0275\u0275elementStart"](18,"div",oe),i["\u0275\u0275elementStart"](19,"mat-form-field",ce),i["\u0275\u0275element"](20,"input",le),i["\u0275\u0275template"](21,de,4,0,"mat-error",se),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"div",ie),i["\u0275\u0275elementStart"](23,"div",oe),i["\u0275\u0275elementStart"](24,"mat-form-field",ce),i["\u0275\u0275element"](25,"textarea",ue,me),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("formGroup",t.checkoutForm),i["\u0275\u0275select"](3),i["\u0275\u0275property"]("disabled",!(t.checkoutForm.dirty&&t.checkoutForm.valid)),i["\u0275\u0275select"](21),i["\u0275\u0275property"]("ngIf",t.checkoutForm.controls.name.hasError("required")))},directives:[o.p,o.l,o.g,j.a,j.b,l.a,j.d,j.f,j.c,u.a,o.k,o.f,D.b,M.a,o.b,r.l,P.b,D.a],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{margin:20px auto}.row[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.col[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;margin-right:20px}"]}),pe),xe=n("kt0X"),we=n("E7rW"),ye=n("9Odd"),Se=[3,"todo","cancel","remove","checkout"],Ee=((fe=function(){function e(t){_classCallCheck(this,e),this.store=t,this.task$=t.pipe(Object(xe.select)(ye.b.selectCurrentTaskFromRoute))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"viewCancelled",value:function(e){this.store.dispatch(we.e.cancelled({currentTask:e}))}},{key:"viewRemoved",value:function(e){this.store.dispatch(we.e.removed({currentTask:e}))}},{key:"viewSaved",value:function(e){this.store.dispatch(we.e.saved({currentTask:e}))}}]),e}()).ngComponentDef=i["\u0275\u0275defineComponent"]({type:fe,selectors:[["app-current-task-detail-edit-page"]],factory:function(e){return new(e||fe)(i["\u0275\u0275directiveInject"](xe.Store))},consts:6,vars:8,template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"app-current-task-detail-edit",Se),i["\u0275\u0275listener"]("cancel",(function(e){return t.viewCancelled(e)})),i["\u0275\u0275listener"]("remove",(function(e){return t.viewRemoved(e)})),i["\u0275\u0275listener"]("checkout",(function(e){return t.viewSaved(e)})),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"pre"),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"json"),i["\u0275\u0275pipe"](5,"async"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("todo",i["\u0275\u0275pipeBind1"](1,2,t.task$)),i["\u0275\u0275select"](3),i["\u0275\u0275textInterpolate1"]("Selected Current Task: ",i["\u0275\u0275pipeBind1"](4,4,i["\u0275\u0275pipeBind1"](5,6,t.task$)),"\n"))},directives:[Ce],pipes:[r.b,r.f],styles:[""],changeDetection:0}),fe),Ie=n("1OTw"),Oe=[3,"currentTasks","reorderItems","newCurrentTask","toggleCompleteItem"],_e=["mat-icon-button","",1,"more-vert-menu",3,"matMenuTriggerFor"],Te=["appMenu","matMenu"],je=["mat-menu-item","",3,"click"],De=((ke=function(){function e(t){_classCallCheck(this,e),this.store=t,this.currentTasks$=t.pipe(Object(xe.select)(ye.b.selectCurrentTasksAll))}return _createClass(e,[{key:"ngOnInit",value:function(){this.store.dispatch(we.g.enter())}},{key:"reorderItems",value:function(e){this.store.dispatch(we.m.reorderList({ids:e}))}},{key:"viewClearCompleted",value:function(){this.store.dispatch(we.g.clearCompleted())}},{key:"viewNewCurrentTask",value:function(){this.store.dispatch(we.g.newCurrentTask())}},{key:"toggleCompleteItem",value:function(e){var t=Object(Y.e)(e,!e.isComplete);this.store.dispatch(we.g.saveItem({currentTask:t}))}}]),e}()).ngComponentDef=i["\u0275\u0275defineComponent"]({type:ke,selectors:[["app-current-tasks-page"]],factory:function(e){return new(e||ke)(i["\u0275\u0275directiveInject"](xe.Store))},consts:9,vars:4,template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"app-current-task-list",Oe),i["\u0275\u0275listener"]("reorderItems",(function(e){return t.reorderItems(e)})),i["\u0275\u0275listener"]("newCurrentTask",(function(e){return t.viewNewCurrentTask()})),i["\u0275\u0275listener"]("toggleCompleteItem",(function(e){return t.toggleCompleteItem(e)})),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"button",_e),i["\u0275\u0275elementStart"](3,"mat-icon"),i["\u0275\u0275text"](4,"more_vert"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"mat-menu",null,Te),i["\u0275\u0275elementStart"](7,"button",je),i["\u0275\u0275listener"]("click",(function(e){return t.viewClearCompleted()})),i["\u0275\u0275text"](8,"Clear Completed"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275reference"](6);i["\u0275\u0275property"]("currentTasks",i["\u0275\u0275pipeBind1"](1,2,t.currentTasks$)),i["\u0275\u0275select"](2),i["\u0275\u0275property"]("matMenuTriggerFor",n)}},directives:[_,l.a,Ie.c,s.a,Ie.d,Ie.a],pipes:[r.b],styles:["[_nghost-%COMP%]{background-color:green;display:-webkit-box;display:flex;-webkit-box-flex:1;flex-grow:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.more-vert-menu[_ngcontent-%COMP%]{color:#fff;position:fixed;right:10px;top:10px;z-index:100}"],changeDetection:0}),ke),Me=[3,"todo","cancel","checkout"],Pe=((be=function(){function e(t){_classCallCheck(this,e),this.store=t,this.task=Object(Y.c)()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"viewCancelled",value:function(e){this.store.dispatch(we.f.cancelled())}},{key:"viewSaved",value:function(e){this.store.dispatch(we.f.saved({currentTask:e}))}}]),e}()).ngComponentDef=i["\u0275\u0275defineComponent"]({type:be,selectors:[["app-current-task-detail-new-page"]],factory:function(e){return new(e||be)(i["\u0275\u0275directiveInject"](xe.Store))},consts:4,vars:4,template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"app-current-task-detail-new",Me),i["\u0275\u0275listener"]("cancel",(function(e){return t.viewCancelled(e)})),i["\u0275\u0275listener"]("checkout",(function(e){return t.viewSaved(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](1,"pre"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"json"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("todo",t.task),i["\u0275\u0275select"](2),i["\u0275\u0275textInterpolate1"]("Selected Current Task: ",i["\u0275\u0275pipeBind1"](3,2,t.task),"\n"))},directives:[K],pipes:[r.f],styles:[""],changeDetection:0}),be),ze=((he=function(){function e(t){_classCallCheck(this,e),this.store=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.store.dispatch(we.h.destroyed())}},{key:"ngOnInit",value:function(){}}]),e}()).ngComponentDef=i["\u0275\u0275defineComponent"]({type:he,selectors:[["app-current-tasks-root"]],factory:function(e){return new(e||he)(i["\u0275\u0275directiveInject"](xe.Store))},consts:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275element"](0,"router-outlet")},directives:[m.k],styles:["[_nghost-%COMP%]{background-color:red;display:-webkit-box;display:flex;-webkit-box-flex:1;flex-grow:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}"],changeDetection:0}),he),Fe=n("DKe4"),Ae=n("LRne"),Ne=n("eIep"),Le=n("pLZG"),Be=n("SxV6"),Re=n("vkgz"),qe=n("IzEk"),Ge=n("fM1L"),Ve=[{path:"",component:ze,canActivate:[Fe.a,(ge=function(){function e(t){_classCallCheck(this,e),this.store=t}return _createClass(e,[{key:"canActivate",value:function(){var e=this;return this.waitForAuth().pipe(Object(Ne.a)((function(){return e.waitForCurrentTasksToLoad().pipe(Object(Ne.a)((function(){return Object(Ae.a)(!0)})))})))}},{key:"waitForAuth",value:function(){return this.store.pipe(Object(xe.select)(Ge.c.selectUser),Object(Le.a)((function(e){return!!e})),Object(Be.a)())}},{key:"waitForCurrentTasksToLoad",value:function(){var e=this;return this.store.pipe(Object(xe.select)(ye.b.selectCurrentTasksLoaded),Object(Re.a)((function(t){t||e.store.dispatch(we.i.loadData())})),Object(Le.a)((function(e){return e})),Object(qe.a)(1))}}]),e}(),ge.ngInjectableDef=i["\u0275\u0275defineInjectable"]({token:ge,factory:function(e){return new(e||ge)(i["\u0275\u0275inject"](xe.Store))},providedIn:"root"}),ge)],children:[{path:"",component:De},{path:"edit/:id",component:Ee},{path:"new",component:Pe}]}],Xe=((ve=function e(){_classCallCheck(this,e)}).ngModuleDef=i["\u0275\u0275defineNgModule"]({type:ve}),ve.ngInjectorDef=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||ve)},imports:[[m.j.forChild(Ve)],m.j]}),ve);m.j.forChild(Ve);var $e,We=[Ce,K,_],He=[Ee,Pe,De,ze],Je=(($e=function e(){_classCallCheck(this,e)}).ngModuleDef=i["\u0275\u0275defineNgModule"]({type:$e}),$e.ngInjectorDef=i["\u0275\u0275defineInjector"]({factory:function(e){return new(e||$e)},imports:[[r.c,o.n,a.a,Xe]]}),$e);n.d(t,"COMPONENTS",(function(){return We})),n.d(t,"CONTAINERS",(function(){return He})),n.d(t,"CurrentTasksModule",(function(){return Je}))}}]);