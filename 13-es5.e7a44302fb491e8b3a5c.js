function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{GEH5:function(e,t,n){"use strict";n.r(t),n.d(t,"COMPONENTS",(function(){return ee})),n.d(t,"CONTAINERS",(function(){return te})),n.d(t,"TaskListsModule",(function(){return ne}));var i,r=n("ofXK"),a=n("3Pt+"),c=n("quTh"),o=n("fXoL"),s=((i=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t}return _createClass(e,[{key:"init",value:function(e){this.isNew=""===e.id,this.initialData=Object.assign({},e),this.form=this.formBuilder.group({name:[this.initialData.name,a.q.required]})}},{key:"checkout",value:function(){var e=Object.assign(Object.assign({},this.initialData),this.form.value);return this.form.reset(),e}}]),e}()).\u0275fac=function(e){return new(e||i)(o["\u0275\u0275inject"](a.d))},i.\u0275prov=o["\u0275\u0275defineInjectable"]({token:i,factory:i.\u0275fac}),i),l=n("Wp6s"),u=n("kmnG"),d=n("qFsG"),m=n("bTqV");function p(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275text"](1," Name is "),o["\u0275\u0275elementStart"](2,"strong"),o["\u0275\u0275text"](3,"required"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]())}var f,h,k=((h=function(){function e(t){_classCallCheck(this,e),this.presenter=t,this.cancel=new o.EventEmitter,this.remove=new o.EventEmitter,this.checkout=new o.EventEmitter}return _createClass(e,[{key:"ngOnInit",value:function(){console.log("ngOnInit>",this.completedTask),this.presenter.init(this.completedTask)}},{key:"cancelClick",value:function(){this.cancel.emit(this.completedTask)}},{key:"removeClick",value:function(){console.log("removeClick>",this.completedTask),this.remove.emit(this.completedTask)}},{key:"onSubmit",value:function(){console.log("onSubmit>",this.completedTask);var e=this.presenter.checkout();this.checkout.emit(e)}},{key:"checkoutForm",get:function(){return this.presenter.form}},{key:"isNew",get:function(){return this.presenter.isNew}}]),e}()).\u0275fac=function(e){return new(e||h)(o["\u0275\u0275directiveInject"](s))},h.\u0275cmp=o["\u0275\u0275defineComponent"]({type:h,selectors:[["app-task-list-detail-edit"]],inputs:{completedTask:"completedTask"},outputs:{cancel:"cancel",remove:"remove",checkout:"checkout"},features:[o["\u0275\u0275ProvidersFeature"]([],[s])],decls:18,vars:4,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"shipping-card"],[1,"row"],[1,"col"],[1,"full-width"],["matInput","","id","name","placeholder","Name","formControlName","name"],[4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","color","accent","type","button",3,"click"],["mat-raised-button","","color","accent","type","button",3,"disabled","click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"form",0),o["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmit()})),o["\u0275\u0275elementStart"](1,"mat-card",1),o["\u0275\u0275elementStart"](2,"mat-card-header"),o["\u0275\u0275elementStart"](3,"mat-card-title"),o["\u0275\u0275text"](4,"Edit Task List"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"mat-card-content"),o["\u0275\u0275elementStart"](6,"div",2),o["\u0275\u0275elementStart"](7,"div",3),o["\u0275\u0275elementStart"](8,"mat-form-field",4),o["\u0275\u0275element"](9,"input",5),o["\u0275\u0275template"](10,p,4,0,"mat-error",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"mat-card-actions"),o["\u0275\u0275elementStart"](12,"button",7),o["\u0275\u0275text"](13," Submit "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"button",8),o["\u0275\u0275listener"]("click",(function(){return t.cancelClick()})),o["\u0275\u0275text"](15," Cancel "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"button",9),o["\u0275\u0275listener"]("click",(function(){return t.removeClick()})),o["\u0275\u0275text"](17," Remove "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275property"]("formGroup",t.checkoutForm),o["\u0275\u0275advance"](10),o["\u0275\u0275property"]("ngIf",t.checkoutForm.controls.name.hasError("required")),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("disabled",!(t.checkoutForm.dirty&&t.checkoutForm.valid)),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("disabled",t.isNew))},directives:[a.r,a.n,a.i,l.a,l.d,l.f,l.c,u.c,d.a,a.b,a.m,a.g,r.l,l.b,m.a,u.b],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{margin:20px auto}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}"]}),h),v=((f=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t}return _createClass(e,[{key:"init",value:function(e){this.initialData=Object.assign({},e),this.form=this.formBuilder.group({name:[this.initialData.name,a.q.required]})}},{key:"checkout",value:function(){var e=Object.assign(Object.assign({},this.initialData),this.form.value);return this.form.reset(),e}}]),e}()).\u0275fac=function(e){return new(e||f)(o["\u0275\u0275inject"](a.d))},f.\u0275prov=o["\u0275\u0275defineInjectable"]({token:f,factory:f.\u0275fac}),f);function g(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"mat-error"),o["\u0275\u0275text"](1," Name is "),o["\u0275\u0275elementStart"](2,"strong"),o["\u0275\u0275text"](3,"required"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]())}var b,C=((b=function(){function e(t){_classCallCheck(this,e),this.presenter=t,this.cancel=new o.EventEmitter,this.checkout=new o.EventEmitter}return _createClass(e,[{key:"ngOnInit",value:function(){this.presenter.init(this.completedTask)}},{key:"cancelClick",value:function(){this.cancel.emit(this.completedTask)}},{key:"onSubmit",value:function(){var e=this.presenter.checkout();this.checkout.emit(e)}},{key:"checkoutForm",get:function(){return this.presenter.form}}]),e}()).\u0275fac=function(e){return new(e||b)(o["\u0275\u0275directiveInject"](v))},b.\u0275cmp=o["\u0275\u0275defineComponent"]({type:b,selectors:[["app-task-list-detail-new"]],inputs:{completedTask:"completedTask"},outputs:{cancel:"cancel",checkout:"checkout"},features:[o["\u0275\u0275ProvidersFeature"]([],[v])],decls:16,vars:3,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"shipping-card"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","color","accent","type","button",3,"click"],[1,"row"],[1,"col"],[1,"full-width"],["matInput","","id","name","placeholder","Name","formControlName","name"],[4,"ngIf"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"form",0),o["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmit()})),o["\u0275\u0275elementStart"](1,"mat-card",1),o["\u0275\u0275elementStart"](2,"mat-card-actions"),o["\u0275\u0275elementStart"](3,"button",2),o["\u0275\u0275text"](4," Submit "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"button",3),o["\u0275\u0275listener"]("click",(function(){return t.cancelClick()})),o["\u0275\u0275text"](6," Cancel "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"mat-card-header"),o["\u0275\u0275elementStart"](8,"mat-card-title"),o["\u0275\u0275text"](9,"New Task List"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"mat-card-content"),o["\u0275\u0275elementStart"](11,"div",4),o["\u0275\u0275elementStart"](12,"div",5),o["\u0275\u0275elementStart"](13,"mat-form-field",6),o["\u0275\u0275element"](14,"input",7),o["\u0275\u0275template"](15,g,4,0,"mat-error",8),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275property"]("formGroup",t.checkoutForm),o["\u0275\u0275advance"](3),o["\u0275\u0275property"]("disabled",!(t.checkoutForm.dirty&&t.checkoutForm.valid)),o["\u0275\u0275advance"](12),o["\u0275\u0275property"]("ngIf",t.checkoutForm.controls.name.hasError("required")))},directives:[a.r,a.n,a.i,l.a,l.b,m.a,l.d,l.f,l.c,u.c,d.a,a.b,a.m,a.g,r.l,u.b],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{margin:20px auto}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}"]}),b),y=n("NFeN"),w=n("tyNb"),x=function(e){return["/tasks/lists/edit",e]};function S(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275elementStart"](1,"div",3),o["\u0275\u0275elementStart"](2,"a",4),o["\u0275\u0275elementStart"](3,"div",5),o["\u0275\u0275elementStart"](4,"div",6),o["\u0275\u0275text"](5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("routerLink",o["\u0275\u0275pureFunction1"](2,x,n.id)),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](n.name)}}var O,E,_,T,j,P,I,M,L=((O=function(){function e(){_classCallCheck(this,e),this.newCurrentTask=new o.EventEmitter}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||O)},O.\u0275cmp=o["\u0275\u0275defineComponent"]({type:O,selectors:[["app-task-list-list"]],inputs:{currentTasks:"currentTasks"},outputs:{newCurrentTask:"newCurrentTask"},decls:5,vars:1,consts:[[1,"list"],[4,"ngFor","ngForOf"],["mat-fab","",1,"fab-bottom-right",3,"click"],[1,"list-item"],[3,"routerLink"],[1,"middle"],[1,"name"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275template"](1,S,6,4,"div",1),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"button",2),o["\u0275\u0275listener"]("click",(function(){return t.newCurrentTask.emit()})),o["\u0275\u0275elementStart"](3,"mat-icon"),o["\u0275\u0275text"](4,"add"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",t.currentTasks))},directives:[r.k,m.a,y.a,w.i],styles:["[_nghost-%COMP%]{background-color:green;display:flex;flex-grow:1;flex-direction:column}.cdk-drag-preview[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drop-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1);background-color:#00f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.list[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0px;overflow-y:scroll;display:flex;flex-direction:column}.list-item[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding:10px;border-bottom:1px solid #ccc;box-sizing:border-box;background:#fff}mat-checkbox[_ngcontent-%COMP%]{padding-right:10px}.drag-icon[_ngcontent-%COMP%]{cursor:move}.name[_ngcontent-%COMP%]{color:#000;font-size:medium}.description[_ngcontent-%COMP%]{color:grey;font-size:small;white-space:pre-line}.middle[_ngcontent-%COMP%]{flex-grow:1;padding-right:10px}.line-through[_ngcontent-%COMP%]{-webkit-text-decoration-line:line-through;text-decoration-line:line-through}a[_ngcontent-%COMP%]{text-decoration:none;display:flex;flex-wrap:nowrap;flex-grow:1}.fab-bottom-right[_ngcontent-%COMP%]{bottom:16px}.fab-bottom-right[_ngcontent-%COMP%], .zzzzzzzz[_ngcontent-%COMP%]{position:fixed;right:60px;z-index:100}.zzzzzzzz[_ngcontent-%COMP%]{top:0}"]}),O),z=n("kt0X"),N=n("E7rW"),F=n("9Odd"),D=((E=function(){function e(t){_classCallCheck(this,e),this.store=t,this.task$=t.pipe(Object(z.select)(F.b.selectTaskListFromRoute))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"viewCancelled",value:function(e){this.store.dispatch(N.j.cancelled({taskList:e}))}},{key:"viewRemoved",value:function(e){this.store.dispatch(N.j.removed({taskList:e}))}},{key:"viewSaved",value:function(e){this.store.dispatch(N.j.saved({taskList:e}))}}]),e}()).\u0275fac=function(e){return new(e||E)(o["\u0275\u0275directiveInject"](z.Store))},E.\u0275cmp=o["\u0275\u0275defineComponent"]({type:E,selectors:[["app-task-list-detail-edit-page"]],decls:6,vars:8,consts:[[3,"completedTask","cancel","remove","checkout"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"app-task-list-detail-edit",0),o["\u0275\u0275listener"]("cancel",(function(e){return t.viewCancelled(e)}))("remove",(function(e){return t.viewRemoved(e)}))("checkout",(function(e){return t.viewSaved(e)})),o["\u0275\u0275pipe"](1,"async"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"pre"),o["\u0275\u0275text"](3),o["\u0275\u0275pipe"](4,"json"),o["\u0275\u0275pipe"](5,"async"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275property"]("completedTask",o["\u0275\u0275pipeBind1"](1,2,t.task$)),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate1"]("Selected Task List: ",o["\u0275\u0275pipeBind1"](4,4,o["\u0275\u0275pipeBind1"](5,6,t.task$)),"\n"))},directives:[k],pipes:[r.b,r.f],styles:[""],changeDetection:0}),E),q=n("VEkB"),B=((j=function(){function e(t){_classCallCheck(this,e),this.store=t,this.task$=Object(q.d)()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"viewCancelled",value:function(e){this.store.dispatch(N.k.cancelled())}},{key:"viewSaved",value:function(e){this.store.dispatch(N.k.saved({taskList:e}))}}]),e}()).\u0275fac=function(e){return new(e||j)(o["\u0275\u0275directiveInject"](z.Store))},j.\u0275cmp=o["\u0275\u0275defineComponent"]({type:j,selectors:[["app-task-list-detail-new-page"]],decls:4,vars:4,consts:[[3,"completedTask","cancel","checkout"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"app-task-list-detail-new",0),o["\u0275\u0275listener"]("cancel",(function(e){return t.viewCancelled(e)}))("checkout",(function(e){return t.viewSaved(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](1,"pre"),o["\u0275\u0275text"](2),o["\u0275\u0275pipe"](3,"json"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275property"]("completedTask",t.task$),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate1"]("Selected Task List: ",o["\u0275\u0275pipeBind1"](3,2,t.task$),"\n"))},directives:[C],pipes:[r.f],styles:[""],changeDetection:0}),j),$=((T=function(){function e(t){_classCallCheck(this,e),this.store=t,this.taskLists$=t.pipe(Object(z.select)(F.a.selectAll))}return _createClass(e,[{key:"ngOnInit",value:function(){this.store.dispatch(N.l.enter())}},{key:"viewNewCurrentTask",value:function(){this.store.dispatch(N.l.newTaskList())}}]),e}()).\u0275fac=function(e){return new(e||T)(o["\u0275\u0275directiveInject"](z.Store))},T.\u0275cmp=o["\u0275\u0275defineComponent"]({type:T,selectors:[["app-task-lists-page"]],decls:2,vars:3,consts:[[3,"currentTasks","newCurrentTask"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"app-task-list-list",0),o["\u0275\u0275listener"]("newCurrentTask",(function(){return t.viewNewCurrentTask()})),o["\u0275\u0275pipe"](1,"async"),o["\u0275\u0275elementEnd"]()),2&e&&o["\u0275\u0275property"]("currentTasks",o["\u0275\u0275pipeBind1"](1,1,t.taskLists$))},directives:[L],pipes:[r.b],styles:["[_nghost-%COMP%]{background-color:green;display:flex;flex-grow:1;flex-direction:column}"],changeDetection:0}),T),G=((_=function(){function e(t){_classCallCheck(this,e),this.store=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){}},{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||_)(o["\u0275\u0275directiveInject"](z.Store))},_.\u0275cmp=o["\u0275\u0275defineComponent"]({type:_,selectors:[["app-task-lists-root"]],decls:1,vars:0,template:function(e,t){1&e&&o["\u0275\u0275element"](0,"router-outlet")},directives:[w.k],styles:["[_nghost-%COMP%]{background-color:red;display:flex;flex-grow:1;flex-direction:column}"],changeDetection:0}),_),R=n("DKe4"),A=n("LRne"),J=n("tS1D"),X=n("eIep"),K=n("JIr8"),V=n("lJxs"),W=n("vkgz"),Z=n("IzEk"),H=n("pLZG"),Q=n("NSZl"),U=[{path:"",component:G,canActivate:[R.a],children:[{path:"",component:$},{path:"edit/:id",component:D,canActivate:[(P=function(){function e(t,n){_classCallCheck(this,e),this.store=t,this.router=n}return _createClass(e,[{key:"canActivate",value:function(){var e=this;return this.waitForTaskListsToLoad().pipe(Object(J.a)(5e3),Object(X.a)((function(){return e.hasTaskListInStore()})),Object(K.a)((function(e){return Object(A.a)(!1)})))}},{key:"hasTaskListInStore",value:function(){var e=this;return this.store.pipe(Object(z.select)(F.b.selectTaskListFromRoute),Object(V.a)((function(e){return void 0!==e})),Object(W.a)((function(t){!1===t&&(e.store.dispatch(Q.a.taskListNotFound()),e.router.navigate(["/404"],{skipLocationChange:!0}))})),Object(Z.a)(1))}},{key:"waitForTaskListsToLoad",value:function(){return this.store.pipe(Object(z.select)(F.a.selectLoaded),Object(H.a)((function(e){return e})),Object(Z.a)(1))}}]),e}(),P.\u0275fac=function(e){return new(e||P)(o["\u0275\u0275inject"](z.Store),o["\u0275\u0275inject"](w.g))},P.\u0275prov=o["\u0275\u0275defineInjectable"]({token:P,factory:P.\u0275fac,providedIn:"root"}),P)]},{path:"new",component:B}]}],Y=((I=function e(){_classCallCheck(this,e)}).\u0275mod=o["\u0275\u0275defineNgModule"]({type:I}),I.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||I)},imports:[[w.j.forChild(U)],w.j]}),I),ee=[k,C,L],te=[D,B,$,G],ne=((M=function e(){_classCallCheck(this,e)}).\u0275mod=o["\u0275\u0275defineNgModule"]({type:M}),M.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||M)},imports:[[r.c,a.p,c.a,Y]]}),M)}}]);