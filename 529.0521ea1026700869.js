"use strict";(self.webpackChunkng_task=self.webpackChunkng_task||[]).push([[529],{6529:(wa,ne,u)=>{u.r(ne),u.d(ne,{COMPONENTS:()=>ma,CONTAINERS:()=>fa,CompletedTasksModule:()=>ha});var S=u(6895),h=u(4006),De=u(898),N=u(9116),U=u(8545),Me=u(9882),Se=u(9646),oe=u(3900),J=u(9300),Ue=u(590),ie=u(8505),Q=u(5698),_=u(4915),_e=u(3237),x=u(6373),n=u(4650),E=u(9653);let Ee=(()=>{class t{constructor(e){this.store=e}canActivate(){return this.waitForAuth().pipe((0,oe.w)(()=>this.waitForCompletedTasksToLoad().pipe((0,oe.w)(()=>(0,Se.of)(!0)))))}waitForAuth(){return this.store.select(_e.Mw.dy).pipe((0,J.h)(e=>!!e),(0,Ue.P)())}waitForCompletedTasksToLoad(){return this.store.select(_.F.de).pipe((0,ie.b)(e=>{e||this.store.dispatch(x.B3.loadData())}),(0,J.h)(e=>e),(0,Q.q)(1))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(E.yh))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var G,se=u(655);function j(t,a,e){return new h.p4(t,a,e)}class O{constructor(a){this.formBuilder=a,this.form=function We(t,a,e){return new h.nJ(t,a,e)}({name:j("",h.kI.required),description:j(),isComplete:j()}),G.set(this,void 0),(0,se.YH)(this,G,function Fe(t){const a={};for(const e in t)t.hasOwnProperty(e)&&(a[e]=e);return console.log("controlsA>",a),a}(this.form.controls),"f")}get formControlNames(){return(0,se.Q_)(this,G,"f")}get isSubmitButtonDisabled(){return!(this.form.dirty&&this.form.valid)}init(a){this.initialData={...a},this.form.setValue({name:this.initialData.name,description:this.initialData.description,isComplete:this.initialData.isComplete})}checkout(){const a={...this.initialData,...this.form.value};return this.form.reset(),a}}G=new WeakMap,O.\u0275fac=function(a){return new(a||O)(n.LFG(h.QS))},O.\u0275prov=n.Yz7({token:O,factory:O.\u0275fac});var Ne=u(9349),F=u(9549),ue=u(284),Y=u(3546),le=u(9101);function Ye(t,a){1&t&&(n.TgZ(0,"mat-error"),n._uU(1," Name is "),n.TgZ(2,"strong"),n._uU(3,"required"),n.qZA()())}let ce=(()=>{class t{constructor(e){this.presenter=e,this.cancel=new n.vpe,this.remove=new n.vpe,this.checkout=new n.vpe}get checkoutForm(){return this.presenter.form}get formControlNames(){return this.presenter.formControlNames}get isSubmitButtonDisabled(){return this.presenter.isSubmitButtonDisabled}ngOnInit(){this.presenter.init(this.completedTask)}cancelClick(){this.cancel.emit(this.completedTask)}removeClick(){this.remove.emit(this.completedTask)}onSubmit(){const e=this.presenter.checkout();this.checkout.emit(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(O))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-completed-task-detail-edit"]],inputs:{completedTask:"completedTask"},outputs:{cancel:"cancel",remove:"remove",checkout:"checkout"},features:[n._Bn([],[O])],decls:23,vars:5,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"shipping-card"],["data-test","submit-button","mat-raised-button","","color","primary","type","submit",3,"disabled"],["data-test","cancel-button","mat-raised-button","","color","accent","type","button",3,"click"],["data-test","remove-button","mat-raised-button","","color","accent","type","button",3,"click"],[1,"row"],[1,"col"],[1,"full-width"],["data-test","name-input","matInput","","id","name","placeholder","Name",3,"formControlName"],[4,"ngIf"],["data-test","description-textarea","matInput","","id","description","placeholder","Description","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5",3,"formControlName"],["autosize","cdkTextareaAutosize"]],template:function(e,r){1&e&&(n.TgZ(0,"form",0),n.NdJ("ngSubmit",function(){return r.onSubmit()}),n.TgZ(1,"mat-card",1)(2,"mat-card-actions")(3,"button",2),n._uU(4," Submit "),n.qZA(),n.TgZ(5,"button",3),n.NdJ("click",function(){return r.cancelClick()}),n._uU(6," Cancel "),n.qZA(),n.TgZ(7,"button",4),n.NdJ("click",function(){return r.removeClick()}),n._uU(8," Remove "),n.qZA()(),n.TgZ(9,"mat-card-header")(10,"mat-card-title"),n._uU(11,"Completed Task"),n.qZA()(),n.TgZ(12,"mat-card-content")(13,"div",5)(14,"div",6)(15,"mat-form-field",7),n._UZ(16,"input",8),n.YNc(17,Ye,4,0,"mat-error",9),n.qZA()()(),n.TgZ(18,"div",5)(19,"div",6)(20,"mat-form-field",7),n._UZ(21,"textarea",10,11),n.qZA()()()()()()),2&e&&(n.Q6J("formGroup",r.checkoutForm),n.xp6(3),n.Q6J("disabled",r.isSubmitButtonDisabled),n.xp6(13),n.Q6J("formControlName",r.formControlNames.name),n.xp6(1),n.Q6J("ngIf",r.checkoutForm.controls.name.hasError("required")),n.xp6(4),n.Q6J("formControlName",r.formControlNames.description))},dependencies:[S.O5,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u,Ne.IC,F.TO,F.KE,ue.Nt,Y.a8,Y.dk,Y.dn,Y.n5,Y.hq,le.lW],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{margin:20px auto}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}"]}),t})(),de=(()=>{class t{constructor(e){this.store=e,this.task$=e.select(_.F.jq)}viewCancelled(e){this.store.dispatch(x.c6.cancelled({completedTask:e}))}viewRemoved(e){this.store.dispatch(x.c6.removed({completedTask:e}))}viewSaved(e){this.store.dispatch(x.c6.saved({completedTask:e}))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(E.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-completed-task-detail-edit-page"]],decls:6,vars:8,consts:[[3,"completedTask","cancel","remove","checkout"]],template:function(e,r){1&e&&(n.TgZ(0,"app-completed-task-detail-edit",0),n.NdJ("cancel",function(i){return r.viewCancelled(i)})("remove",function(i){return r.viewRemoved(i)})("checkout",function(i){return r.viewSaved(i)}),n.ALo(1,"async"),n.qZA(),n.TgZ(2,"pre"),n._uU(3),n.ALo(4,"json"),n.ALo(5,"async"),n.qZA()),2&e&&(n.Q6J("completedTask",n.lcZ(1,2,r.task$)),n.xp6(3),n.hij("Selected Completed Task: ",n.lcZ(4,4,n.lcZ(5,6,r.task$)),"\n"))},dependencies:[ce,S.Ov,S.Ts],changeDetection:0}),t})();function p(t,a){if(a.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+a.length+" present")}function Ae(t){return p(1,arguments),t instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)}function y(t){p(1,arguments);var a=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===a?new Date(t.getTime()):"number"==typeof t||"[object Number]"===a?new Date(t):(("string"==typeof t||"[object String]"===a)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Ze(t){if(p(1,arguments),!Ae(t)&&"number"!=typeof t)return!1;var a=y(t);return!isNaN(Number(a))}function P(t){if(null===t||!0===t||!1===t)return NaN;var a=Number(t);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}function Le(t,a){p(2,arguments);var e=y(t).getTime(),r=P(a);return new Date(e+r)}function $e(t,a){p(2,arguments);var e=P(a);return Le(t,-e)}function B(t){p(1,arguments);var a=1,e=y(t),r=e.getUTCDay(),o=(r<a?7:0)+r-a;return e.setUTCDate(e.getUTCDate()-o),e.setUTCHours(0,0,0,0),e}function me(t){p(1,arguments);var a=y(t),e=a.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(e+1,0,4),r.setUTCHours(0,0,0,0);var o=B(r),i=new Date(0);i.setUTCFullYear(e,0,4),i.setUTCHours(0,0,0,0);var s=B(i);return a.getTime()>=o.getTime()?e+1:a.getTime()>=s.getTime()?e:e-1}function Je(t){p(1,arguments);var a=me(t),e=new Date(0);e.setUTCFullYear(a,0,4),e.setUTCHours(0,0,0,0);var r=B(e);return r}var Qe=6048e5,fe={};function q(){return fe}function H(t,a){var e,r,o,i,s,l,d,m;p(1,arguments);var v=q(),f=P(null!==(e=null!==(r=null!==(o=null!==(i=a?.weekStartsOn)&&void 0!==i?i:null==a||null===(s=a.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==o?o:v.weekStartsOn)&&void 0!==r?r:null===(d=v.locale)||void 0===d||null===(m=d.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==e?e:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var C=y(t),g=C.getUTCDay(),w=(g<f?7:0)+g-f;return C.setUTCDate(C.getUTCDate()-w),C.setUTCHours(0,0,0,0),C}function he(t,a){var e,r,o,i,s,l,d,m;p(1,arguments);var v=y(t),f=v.getUTCFullYear(),C=q(),g=P(null!==(e=null!==(r=null!==(o=null!==(i=a?.firstWeekContainsDate)&&void 0!==i?i:null==a||null===(s=a.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==o?o:C.firstWeekContainsDate)&&void 0!==r?r:null===(d=C.locale)||void 0===d||null===(m=d.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==e?e:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(f+1,0,g),w.setUTCHours(0,0,0,0);var L=H(w,a),M=new Date(0);M.setUTCFullYear(f,0,g),M.setUTCHours(0,0,0,0);var $=H(M,a);return v.getTime()>=L.getTime()?f+1:v.getTime()>=$.getTime()?f:f-1}function Be(t,a){var e,r,o,i,s,l,d,m;p(1,arguments);var v=q(),f=P(null!==(e=null!==(r=null!==(o=null!==(i=a?.firstWeekContainsDate)&&void 0!==i?i:null==a||null===(s=a.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==o?o:v.firstWeekContainsDate)&&void 0!==r?r:null===(d=v.locale)||void 0===d||null===(m=d.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==e?e:1),C=he(t,a),g=new Date(0);g.setUTCFullYear(C,0,f),g.setUTCHours(0,0,0,0);var w=H(g,a);return w}var qe=6048e5;function c(t,a){for(var e=t<0?"-":"",r=Math.abs(t).toString();r.length<a;)r="0"+r;return e+r}const k_y=function(t,a){var e=t.getUTCFullYear(),r=e>0?e:1-e;return c("yy"===a?r%100:r,a.length)},k_M=function(t,a){var e=t.getUTCMonth();return"M"===a?String(e+1):c(e+1,2)},k_d=function(t,a){return c(t.getUTCDate(),a.length)},k_h=function(t,a){return c(t.getUTCHours()%12||12,a.length)},k_H=function(t,a){return c(t.getUTCHours(),a.length)},k_m=function(t,a){return c(t.getUTCMinutes(),a.length)},k_s=function(t,a){return c(t.getUTCSeconds(),a.length)},k_S=function(t,a){var e=a.length,r=t.getUTCMilliseconds();return c(Math.floor(r*Math.pow(10,e-3)),a.length)};function pe(t,a){var e=t>0?"-":"+",r=Math.abs(t),o=Math.floor(r/60),i=r%60;if(0===i)return e+String(o);var s=a||"";return e+String(o)+s+c(i,2)}function ve(t,a){return t%60==0?(t>0?"-":"+")+c(Math.abs(t)/60,2):D(t,a)}function D(t,a){var e=a||"",r=t>0?"-":"+",o=Math.abs(t);return r+c(Math.floor(o/60),2)+e+c(o%60,2)}const je={G:function(t,a,e){var r=t.getUTCFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return e.era(r,{width:"abbreviated"});case"GGGGG":return e.era(r,{width:"narrow"});default:return e.era(r,{width:"wide"})}},y:function(t,a,e){if("yo"===a){var r=t.getUTCFullYear();return e.ordinalNumber(r>0?r:1-r,{unit:"year"})}return k_y(t,a)},Y:function(t,a,e,r){var o=he(t,r),i=o>0?o:1-o;return"YY"===a?c(i%100,2):"Yo"===a?e.ordinalNumber(i,{unit:"year"}):c(i,a.length)},R:function(t,a){return c(me(t),a.length)},u:function(t,a){return c(t.getUTCFullYear(),a.length)},Q:function(t,a,e){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(a){case"Q":return String(r);case"QQ":return c(r,2);case"Qo":return e.ordinalNumber(r,{unit:"quarter"});case"QQQ":return e.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(r,{width:"narrow",context:"formatting"});default:return e.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,a,e){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(a){case"q":return String(r);case"qq":return c(r,2);case"qo":return e.ordinalNumber(r,{unit:"quarter"});case"qqq":return e.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(r,{width:"narrow",context:"standalone"});default:return e.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,a,e){var r=t.getUTCMonth();switch(a){case"M":case"MM":return k_M(t,a);case"Mo":return e.ordinalNumber(r+1,{unit:"month"});case"MMM":return e.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(r,{width:"narrow",context:"formatting"});default:return e.month(r,{width:"wide",context:"formatting"})}},L:function(t,a,e){var r=t.getUTCMonth();switch(a){case"L":return String(r+1);case"LL":return c(r+1,2);case"Lo":return e.ordinalNumber(r+1,{unit:"month"});case"LLL":return e.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(r,{width:"narrow",context:"standalone"});default:return e.month(r,{width:"wide",context:"standalone"})}},w:function(t,a,e,r){var o=function He(t,a){p(1,arguments);var e=y(t),r=H(e,a).getTime()-Be(e,a).getTime();return Math.round(r/qe)+1}(t,r);return"wo"===a?e.ordinalNumber(o,{unit:"week"}):c(o,a.length)},I:function(t,a,e){var r=function Ge(t){p(1,arguments);var a=y(t),e=B(a).getTime()-Je(a).getTime();return Math.round(e/Qe)+1}(t);return"Io"===a?e.ordinalNumber(r,{unit:"week"}):c(r,a.length)},d:function(t,a,e){return"do"===a?e.ordinalNumber(t.getUTCDate(),{unit:"date"}):k_d(t,a)},D:function(t,a,e){var r=function Ie(t){p(1,arguments);var a=y(t),e=a.getTime();a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0);var r=a.getTime();return Math.floor((e-r)/864e5)+1}(t);return"Do"===a?e.ordinalNumber(r,{unit:"dayOfYear"}):c(r,a.length)},E:function(t,a,e){var r=t.getUTCDay();switch(a){case"E":case"EE":case"EEE":return e.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(r,{width:"short",context:"formatting"});default:return e.day(r,{width:"wide",context:"formatting"})}},e:function(t,a,e,r){var o=t.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(a){case"e":return String(i);case"ee":return c(i,2);case"eo":return e.ordinalNumber(i,{unit:"day"});case"eee":return e.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(o,{width:"short",context:"formatting"});default:return e.day(o,{width:"wide",context:"formatting"})}},c:function(t,a,e,r){var o=t.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(a){case"c":return String(i);case"cc":return c(i,a.length);case"co":return e.ordinalNumber(i,{unit:"day"});case"ccc":return e.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(o,{width:"narrow",context:"standalone"});case"cccccc":return e.day(o,{width:"short",context:"standalone"});default:return e.day(o,{width:"wide",context:"standalone"})}},i:function(t,a,e){var r=t.getUTCDay(),o=0===r?7:r;switch(a){case"i":return String(o);case"ii":return c(o,a.length);case"io":return e.ordinalNumber(o,{unit:"day"});case"iii":return e.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(r,{width:"short",context:"formatting"});default:return e.day(r,{width:"wide",context:"formatting"})}},a:function(t,a,e){var o=t.getUTCHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(o,{width:"narrow",context:"formatting"});default:return e.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,a,e){var o,r=t.getUTCHours();switch(o=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",a){case"b":case"bb":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(o,{width:"narrow",context:"formatting"});default:return e.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,a,e){var o,r=t.getUTCHours();switch(o=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",a){case"B":case"BB":case"BBB":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(o,{width:"narrow",context:"formatting"});default:return e.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,a,e){if("ho"===a){var r=t.getUTCHours()%12;return 0===r&&(r=12),e.ordinalNumber(r,{unit:"hour"})}return k_h(t,a)},H:function(t,a,e){return"Ho"===a?e.ordinalNumber(t.getUTCHours(),{unit:"hour"}):k_H(t,a)},K:function(t,a,e){var r=t.getUTCHours()%12;return"Ko"===a?e.ordinalNumber(r,{unit:"hour"}):c(r,a.length)},k:function(t,a,e){var r=t.getUTCHours();return 0===r&&(r=24),"ko"===a?e.ordinalNumber(r,{unit:"hour"}):c(r,a.length)},m:function(t,a,e){return"mo"===a?e.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):k_m(t,a)},s:function(t,a,e){return"so"===a?e.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):k_s(t,a)},S:function(t,a){return k_S(t,a)},X:function(t,a,e,r){var i=(r._originalDate||t).getTimezoneOffset();if(0===i)return"Z";switch(a){case"X":return ve(i);case"XXXX":case"XX":return D(i);default:return D(i,":")}},x:function(t,a,e,r){var i=(r._originalDate||t).getTimezoneOffset();switch(a){case"x":return ve(i);case"xxxx":case"xx":return D(i);default:return D(i,":")}},O:function(t,a,e,r){var i=(r._originalDate||t).getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+pe(i,":");default:return"GMT"+D(i,":")}},z:function(t,a,e,r){var i=(r._originalDate||t).getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+pe(i,":");default:return"GMT"+D(i,":")}},t:function(t,a,e,r){return c(Math.floor((r._originalDate||t).getTime()/1e3),a.length)},T:function(t,a,e,r){return c((r._originalDate||t).getTime(),a.length)}};var ge=function(t,a){switch(t){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});default:return a.date({width:"full"})}},Ce=function(t,a){switch(t){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});default:return a.time({width:"full"})}};const et={p:Ce,P:function(t,a){var i,e=t.match(/(P+)(p+)?/)||[],r=e[1],o=e[2];if(!o)return ge(t,a);switch(r){case"P":i=a.dateTime({width:"short"});break;case"PP":i=a.dateTime({width:"medium"});break;case"PPP":i=a.dateTime({width:"long"});break;default:i=a.dateTime({width:"full"})}return i.replace("{{date}}",ge(r,a)).replace("{{time}}",Ce(o,a))}};function tt(t){var a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),t.getTime()-a.getTime()}var at=["D","DD"],rt=["YY","YYYY"];function nt(t){return-1!==at.indexOf(t)}function ot(t){return-1!==rt.indexOf(t)}function Te(t,a,e){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(a,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(a,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(a,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(a,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var it={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function V(t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=a.width?String(a.width):t.defaultWidth,r=t.formats[e]||t.formats[t.defaultWidth];return r}}var mt={date:V({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:V({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:V({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ht={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function A(t){return function(a,e){var o;if("formatting"===(null!=e&&e.context?String(e.context):"standalone")&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,s=null!=e&&e.width?String(e.width):i;o=t.formattingValues[s]||t.formattingValues[i]}else{var l=t.defaultWidth,d=null!=e&&e.width?String(e.width):t.defaultWidth;o=t.values[d]||t.values[l]}return o[t.argumentCallback?t.argumentCallback(a):a]}}function Z(t){return function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=a.match(o);if(!i)return null;var m,s=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(l)?Dt(l,function(f){return f.test(s)}):Pt(l,function(f){return f.test(s)});m=t.valueCallback?t.valueCallback(d):d,m=e.valueCallback?e.valueCallback(m):m;var v=a.slice(s.length);return{value:m,rest:v}}}function Pt(t,a){for(var e in t)if(t.hasOwnProperty(e)&&a(t[e]))return e}function Dt(t,a){for(var e=0;e<t.length;e++)if(a(t[e]))return e}const Jt={code:"en-US",formatDistance:function(t,a,e){var r,o=it[t];return r="string"==typeof o?o:1===a?o.one:o.other.replace("{{count}}",a.toString()),null!=e&&e.addSuffix?e.comparison&&e.comparison>0?"in "+r:r+" ago":r},formatLong:mt,formatRelative:function(t,a,e,r){return ht[t]},localize:{ordinalNumber:function(t,a){var e=Number(t),r=e%100;if(r>20||r<10)switch(r%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},era:A({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:A({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:A({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:A({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:A({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function Mt(t){return function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.match(t.matchPattern);if(!r)return null;var o=r[0],i=a.match(t.parsePattern);if(!i)return null;var s=t.valueCallback?t.valueCallback(i[0]):i[0];s=e.valueCallback?e.valueCallback(s):s;var l=a.slice(o.length);return{value:s,rest:l}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}}),era:Z({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Z({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Z({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Z({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Z({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var Qt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bt=/^'([^]*?)'?$/,qt=/''/g,Ht=/[a-zA-Z]/;function Xt(t){var a=t.match(Bt);return a?a[1].replace(qt,"'"):t}var jt=u(6709),we=u(6338),Vt=u(4850);const Kt=function(t,a){return[t,a]};function ea(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"mat-list-item")(1,"div",4)(2,"mat-checkbox",5),n.NdJ("change",function(){const i=n.CHM(e).$implicit,s=n.oxw(2);return n.KtG(s.toggleCompleteItem.emit(i))}),n.qZA(),n.TgZ(3,"a",6)(4,"div",7)(5,"div",8),n._uU(6),n.qZA(),n.TgZ(7,"div",9),n._uU(8),n.qZA()()(),n._UZ(9,"mat-divider",10),n.qZA()()}if(2&t){const e=a.$implicit,r=n.oxw(2);n.xp6(2),n.Q6J("checked",e.isComplete),n.xp6(1),n.Q6J("routerLink",n.WLB(5,Kt,r.editPath(),e.id)),n.xp6(3),n.Oqu(e.name),n.xp6(2),n.Oqu(e.description),n.xp6(1),n.Q6J("inset",!0)}}function ta(t,a){if(1&t&&(n.TgZ(0,"div")(1,"h3",2),n._uU(2),n.qZA(),n.YNc(3,ea,10,8,"mat-list-item",3),n.qZA()),2&t){const e=a.$implicit,r=n.oxw();n.xp6(2),n.Oqu(e.header),n.xp6(1),n.Q6J("ngForOf",e.tasks)("ngForTrackBy",r.viewTrackBy)}}let ye=(()=>{class t{constructor(){this.toggleCompleteItem=new n.vpe,this.viewGroupByDateArray=[]}set currentTasks(e){this.inputCurrentTasks=e,this.viewGroupByDateArray=this.convertToGroupByDateArray(e)}get currentTasks(){return this.inputCurrentTasks}convertToGroupByDateArray(e){const r=e.sort((l,d)=>l.completedTimestamp>d.completedTimestamp?-1:l.completedTimestamp<d.completedTimestamp?1:0),o=[];let i="",s=[];return r.forEach(l=>{const d=function zt(t,a,e){var r,o,i,s,l,d,m,v,f,C,g,w,L,M,$,K,ee,te;p(2,arguments);var pa=String(a),R=q(),I=null!==(r=null!==(o=e?.locale)&&void 0!==o?o:R.locale)&&void 0!==r?r:Jt,ae=P(null!==(i=null!==(s=null!==(l=null!==(d=e?.firstWeekContainsDate)&&void 0!==d?d:null==e||null===(m=e.locale)||void 0===m||null===(v=m.options)||void 0===v?void 0:v.firstWeekContainsDate)&&void 0!==l?l:R.firstWeekContainsDate)&&void 0!==s?s:null===(f=R.locale)||void 0===f||null===(C=f.options)||void 0===C?void 0:C.firstWeekContainsDate)&&void 0!==i?i:1);if(!(ae>=1&&ae<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var re=P(null!==(g=null!==(w=null!==(L=null!==(M=e?.weekStartsOn)&&void 0!==M?M:null==e||null===($=e.locale)||void 0===$||null===(K=$.options)||void 0===K?void 0:K.weekStartsOn)&&void 0!==L?L:R.weekStartsOn)&&void 0!==w?w:null===(ee=R.locale)||void 0===ee||null===(te=ee.options)||void 0===te?void 0:te.weekStartsOn)&&void 0!==g?g:0);if(!(re>=0&&re<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var z=y(t);if(!Ze(z))throw new RangeError("Invalid time value");var va=tt(z),ga=$e(z,va),Ca={firstWeekContainsDate:ae,weekStartsOn:re,locale:I,_originalDate:z};return pa.match(Gt).map(function(T){var b=T[0];return"p"===b||"P"===b?(0,et[b])(T,I.formatLong):T}).join("").match(Qt).map(function(T){if("''"===T)return"'";var b=T[0];if("'"===b)return Xt(T);var X=je[b];if(X)return!(null!=e&&e.useAdditionalWeekYearTokens)&&ot(T)&&Te(T,a,String(t)),!(null!=e&&e.useAdditionalDayOfYearTokens)&&nt(T)&&Te(T,a,String(t)),X(ga,T,I.localize,Ca);if(b.match(Ht))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return T}).join("")}(l.completedTimestamp,"E, d MMM yyyy");d===i?s.push(l):(i=d,s=[{...l}],o.push({header:i,tasks:s}))}),o}viewTrackBy(e,r){return r.id}editPath(){return U.N+U.k.completedTasks.path+U.N+U.k.completedTasks.edit.path}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-completed-task-list"]],inputs:{currentTasks:"currentTasks"},outputs:{toggleCompleteItem:"toggleCompleteItem"},decls:2,vars:1,consts:[[1,"list","app-class"],[4,"ngFor","ngForOf"],["matSubHeader",""],[4,"ngFor","ngForOf","ngForTrackBy"],["data-test","list-item",1,"list-item"],[3,"checked","change"],[3,"routerLink"],[1,"middle"],[1,"name"],[1,"description"],[3,"inset"]],template:function(e,r){1&e&&(n.TgZ(0,"mat-list",0),n.YNc(1,ta,4,3,"div",1),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngForOf",r.viewGroupByDateArray))},dependencies:[S.sg,jt.oG,we.i$,we.Tg,Vt.d,N.yS],styles:["[_nghost-%COMP%]{background-color:green;display:flex;flex-grow:1;flex-direction:column}.cdk-drag-preview[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drop-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1);background-color:#00f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.aa[_ngcontent-%COMP%]{height:300px}.app-class[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:auto}.list[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0px;overflow-y:scroll;display:flex;flex-direction:column;background:white}.list-item[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;flex-grow:1;padding:10px 0;box-sizing:border-box;background:white}mat-checkbox[_ngcontent-%COMP%]{padding-right:10px}.drag-icon[_ngcontent-%COMP%]{cursor:move}.name[_ngcontent-%COMP%]{color:#000;font-size:medium}.description[_ngcontent-%COMP%]{color:gray;font-size:small;white-space:pre-line}.middle[_ngcontent-%COMP%]{flex-grow:1;padding-right:10px}.line-through[_ngcontent-%COMP%]{-webkit-text-decoration-line:line-through;text-decoration-line:line-through}a[_ngcontent-%COMP%]{text-decoration:none;display:flex;flex-wrap:nowrap;flex-grow:1}.fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:60px;bottom:16px;z-index:100}.zzzzzzzz[_ngcontent-%COMP%]{position:fixed;right:60px;top:0px;z-index:100}"]}),t})();var ke=u(7579),aa=u(2722),ra=u(8372),na=u(1884);let be=(()=>{class t{constructor(){this.searchControl=new h.p4(""),this.searchTerms=new ke.x,this.searchTerms$=this.searchTerms.pipe((0,J.h)(e=>0===e.length||e.length>2),(0,ra.b)(300),(0,na.x)()),this.searchControl.valueChanges.forEach(e=>{this.searchTerms.next(e)})}initialSearchTerm(e){this.searchControl.setValue(e)}clearSearch(){this.searchControl.setValue("")}search(e){this.searchTerms.next(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();var oa=u(3336);let xe=(()=>{class t{constructor(e){this.presenter=e,this.search=new n.vpe,this.destroy=new ke.x}get viewSearchControl(){return this.presenter.searchControl}ngOnInit(){this.presenter.searchTerms$.pipe((0,aa.R)(this.destroy)).subscribe(e=>this.search.emit(e)),this.presenter.initialSearchTerm(this.searchText)}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}viewClearSearch(){this.presenter.clearSearch()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(be))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-search"]],inputs:{searchText:"searchText"},outputs:{search:"search"},features:[n._Bn([be])],decls:9,vars:1,consts:[["appearance","fill"],["matPrefix",""],["data-test","search-field","type","text","matInput","","placeholder","Search",3,"formControl"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(e,r){1&e&&(n.TgZ(0,"mat-form-field",0)(1,"mat-icon",1),n._uU(2,"search"),n.qZA(),n.TgZ(3,"mat-label"),n._uU(4,"Search"),n.qZA(),n._UZ(5,"input",2),n.TgZ(6,"button",3),n.NdJ("click",function(){return r.viewClearSearch()}),n.TgZ(7,"mat-icon"),n._uU(8,"close"),n.qZA()()()),2&e&&(n.xp6(5),n.Q6J("formControl",r.viewSearchControl))},dependencies:[h.Fj,h.JJ,h.oH,F.KE,F.hX,F.qo,F.R9,ue.Nt,le.lW,oa.Hw],styles:["mat-form-field[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column}"]}),t})(),Oe=(()=>{class t{constructor(e){this.store=e,this.viewSearchQuery$=e.select(_.F.J).pipe((0,Q.q)(1)),this.completedTasks$=e.select(_.F.tF)}viewSearch(e){this.store.dispatch(x.wh.search({query:e}))}toggleCompleteItem(e){this.store.dispatch(x.wh.itemToggled({todoCompleted:e}))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(E.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-completed-tasks-page"]],decls:4,vars:6,consts:[[3,"searchText","search"],[3,"currentTasks","toggleCompleteItem"]],template:function(e,r){1&e&&(n.TgZ(0,"app-search",0),n.NdJ("search",function(i){return r.viewSearch(i)}),n.ALo(1,"async"),n.qZA(),n.TgZ(2,"app-completed-task-list",1),n.NdJ("toggleCompleteItem",function(i){return r.toggleCompleteItem(i)}),n.ALo(3,"async"),n.qZA()),2&e&&(n.Q6J("searchText",n.lcZ(1,2,r.viewSearchQuery$)),n.xp6(2),n.Q6J("currentTasks",n.lcZ(3,4,r.completedTasks$)))},dependencies:[ye,xe,S.Ov],styles:["[_nghost-%COMP%]{background-color:green;display:flex;flex-grow:1;flex-direction:column}"],changeDetection:0}),t})(),Pe=(()=>{class t{constructor(e){this.store=e}ngOnDestroy(){this.store.dispatch(x.SH.destroyed())}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(E.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-completed-tasks-root"]],decls:1,vars:0,template:function(e,r){1&e&&n._UZ(0,"router-outlet")},dependencies:[N.lC],styles:["[_nghost-%COMP%]{background-color:red;display:flex;flex-grow:1;flex-direction:column}"],changeDetection:0}),t})();var ia=u(4004);const ua=(0,E.PH)("[Completed Task Detail Edit Page Component Guard] Completed Task Not Found"),ca=[{path:"",component:Pe,canActivate:[Me.P,Ee],children:[{path:U.k.completedTasks.edit.path+"/:"+U.k.completedTasks.edit.idParam,component:de,canActivate:[(()=>{class t{constructor(e,r){this.store=e,this.router=r}canActivate(e){return this.hasCompletedTask()}hasCompletedTask(){return this.store.select(_.F.jq).pipe((0,ia.U)(e=>void 0!==e),(0,ie.b)(e=>{!1===e&&(console.log("hasCompletedTask>",e),this.store.dispatch(ua()),this.router.navigate(["/404"],{skipLocationChange:!0}))}),(0,Q.q)(1))}waitForCurrentTasksToLoad(){return this.store.select(_.F.OC).pipe((0,J.h)(e=>e),(0,Q.q)(1))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(E.yh),n.LFG(N.F0))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()]},{path:"",component:Oe}]}];let da=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[N.Bz.forChild(ca),N.Bz]}),t})();const ma=[ce,ye,xe],fa=[de,Oe,Pe];let ha=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[S.ez,h.UX,De.q,da]}),t})()}}]);