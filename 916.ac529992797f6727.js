"use strict";(self.webpackChunkng_task=self.webpackChunkng_task||[]).push([[916],{2916:(H,f,o)=>{o.r(f),o.d(f,{COMPONENTS:()=>q,CONTAINERS:()=>W,TaskListsModule:()=>K});var d=o(6895),a=o(4006),Z=o(898),t=o(4650);let C=(()=>{class n{constructor(e){this.formBuilder=e}init(e){this.isNew=""===e.id,this.initialData={...e},this.form=this.formBuilder.group({name:[this.initialData.name,a.kI.required]})}checkout(){const e={...this.initialData,...this.form.value};return this.form.reset(),e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(a.QS))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var h=o(9549),L=o(284),c=o(3546),T=o(9101);function O(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Name is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}let v=(()=>{class n{constructor(e){this.presenter=e,this.cancel=new t.vpe,this.remove=new t.vpe,this.checkout=new t.vpe}get checkoutForm(){return this.presenter.form}get isNew(){return this.presenter.isNew}ngOnInit(){console.log("ngOnInit>",this.completedTask),this.presenter.init(this.completedTask)}cancelClick(){this.cancel.emit(this.completedTask)}removeClick(){console.log("removeClick>",this.completedTask),this.remove.emit(this.completedTask)}onSubmit(){console.log("onSubmit>",this.completedTask);const e=this.presenter.checkout();this.checkout.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-list-detail-edit"]],inputs:{completedTask:"completedTask"},outputs:{cancel:"cancel",remove:"remove",checkout:"checkout"},features:[t._Bn([],[C])],decls:18,vars:4,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"shipping-card"],[1,"row"],[1,"col"],[1,"full-width"],["data-test","name-input","matInput","","id","name","placeholder","Name","formControlName","name"],[4,"ngIf"],["data-test","submit-button","mat-raised-button","","color","primary","type","submit",3,"disabled"],["data-test","cancel-button","mat-raised-button","","color","accent","type","button",3,"click"],["data-test","remove-button","mat-raised-button","","color","accent","type","button",3,"disabled","click"]],template:function(e,s){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return s.onSubmit()}),t.TgZ(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Edit Task List"),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"div",2)(7,"div",3)(8,"mat-form-field",4),t._UZ(9,"input",5),t.YNc(10,O,4,0,"mat-error",6),t.qZA()()()(),t.TgZ(11,"mat-card-actions")(12,"button",7),t._uU(13," Submit "),t.qZA(),t.TgZ(14,"button",8),t.NdJ("click",function(){return s.cancelClick()}),t._uU(15," Cancel "),t.qZA(),t.TgZ(16,"button",9),t.NdJ("click",function(){return s.removeClick()}),t._uU(17," Remove "),t.qZA()()()()),2&e&&(t.Q6J("formGroup",s.checkoutForm),t.xp6(10),t.Q6J("ngIf",s.checkoutForm.controls.name.hasError("required")),t.xp6(2),t.Q6J("disabled",!(s.checkoutForm.dirty&&s.checkoutForm.valid)),t.xp6(4),t.Q6J("disabled",s.isNew))},dependencies:[d.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,h.TO,h.KE,L.Nt,c.a8,c.dk,c.dn,c.n5,c.hq,T.lW],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{margin:20px auto}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}"]}),n})(),w=(()=>{class n{constructor(e){this.formBuilder=e}init(e){this.initialData={...e},this.form=this.formBuilder.group({name:[this.initialData.name,a.kI.required]})}checkout(){const e={...this.initialData,...this.form.value};return this.form.reset(),e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(a.QS))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function M(n,i){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Name is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}let P=(()=>{class n{constructor(e){this.presenter=e,this.cancel=new t.vpe,this.checkout=new t.vpe}get checkoutForm(){return this.presenter.form}ngOnInit(){this.presenter.init(this.completedTask)}cancelClick(){this.cancel.emit(this.completedTask)}onSubmit(){const e=this.presenter.checkout();this.checkout.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-list-detail-new"]],inputs:{completedTask:"completedTask"},outputs:{cancel:"cancel",checkout:"checkout"},features:[t._Bn([],[w])],decls:16,vars:3,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"shipping-card"],["data-test","submit-button","mat-raised-button","","color","primary","type","submit",3,"disabled"],["data-test","cancel-button","mat-raised-button","","color","accent","type","button",3,"click"],[1,"row"],[1,"col"],[1,"full-width"],["data-test","name-input","matInput","","id","name","placeholder","Name","formControlName","name"],[4,"ngIf"]],template:function(e,s){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return s.onSubmit()}),t.TgZ(1,"mat-card",1)(2,"mat-card-actions")(3,"button",2),t._uU(4," Submit "),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return s.cancelClick()}),t._uU(6," Cancel "),t.qZA()(),t.TgZ(7,"mat-card-header")(8,"mat-card-title"),t._uU(9,"New Task List"),t.qZA()(),t.TgZ(10,"mat-card-content")(11,"div",4)(12,"div",5)(13,"mat-form-field",6),t._UZ(14,"input",7),t.YNc(15,M,4,0,"mat-error",8),t.qZA()()()()()()),2&e&&(t.Q6J("formGroup",s.checkoutForm),t.xp6(3),t.Q6J("disabled",!(s.checkoutForm.dirty&&s.checkoutForm.valid)),t.xp6(12),t.Q6J("ngIf",s.checkoutForm.controls.name.hasError("required")))},dependencies:[d.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,h.TO,h.KE,L.Nt,c.a8,c.dk,c.dn,c.n5,c.hq,T.lW],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{margin:20px auto}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}"]}),n})();var p=o(8545),F=o(3336),u=o(9116);const A=function(n,i){return[n,i]};function E(n,i){if(1&n&&(t.TgZ(0,"div")(1,"div",3)(2,"a",4)(3,"div",5)(4,"div",6),t._uU(5),t.qZA()()()()()),2&n){const e=i.$implicit,s=t.oxw();t.xp6(2),t.Q6J("routerLink",t.WLB(2,A,s.editPath(),e.id)),t.xp6(3),t.Oqu(e.name)}}let y=(()=>{class n{constructor(){this.newCurrentTask=new t.vpe}editPath(){return p.N+p.k.taskLists.path+p.N+p.k.taskLists.edit.path}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-list-list"]],inputs:{currentTasks:"currentTasks"},outputs:{newCurrentTask:"newCurrentTask"},decls:5,vars:1,consts:[[1,"list"],[4,"ngFor","ngForOf"],["data-test","new-task-list-button","mat-fab","",1,"fab-bottom-right",3,"click"],["data-test","list-item",1,"list-item"],[3,"routerLink"],[1,"middle"],[1,"name"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0),t.YNc(1,E,6,5,"div",1),t.qZA(),t.TgZ(2,"button",2),t.NdJ("click",function(){return s.newCurrentTask.emit()}),t.TgZ(3,"mat-icon"),t._uU(4,"add"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngForOf",s.currentTasks))},dependencies:[d.sg,T.lW,F.Hw,u.yS],styles:["[_nghost-%COMP%]{background-color:green;display:flex;flex-grow:1;flex-direction:column}.cdk-drag-preview[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drop-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1);background-color:#00f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.list[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0px;overflow-y:scroll;display:flex;flex-direction:column}.list-item[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding:10px;border-bottom:solid 1px #ccc;box-sizing:border-box;background:white}mat-checkbox[_ngcontent-%COMP%]{padding-right:10px}.drag-icon[_ngcontent-%COMP%]{cursor:move}.name[_ngcontent-%COMP%]{color:#000;font-size:medium}.description[_ngcontent-%COMP%]{color:gray;font-size:small;white-space:pre-line}.middle[_ngcontent-%COMP%]{flex-grow:1;padding-right:10px}.line-through[_ngcontent-%COMP%]{-webkit-text-decoration-line:line-through;text-decoration-line:line-through}a[_ngcontent-%COMP%]{text-decoration:none;display:flex;flex-wrap:nowrap;flex-grow:1}.fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:60px;bottom:16px;z-index:100}.zzzzzzzz[_ngcontent-%COMP%]{position:fixed;right:60px;top:0px;z-index:100}"]}),n})();var m=o(6373),g=o(4915),k=o(9653);let x=(()=>{class n{constructor(e){this.store=e,this.task$=e.select(g.F.Pn)}viewCancelled(e){this.store.dispatch(m.IU.cancelled({taskList:e}))}viewRemoved(e){this.store.dispatch(m.IU.removed({taskList:e}))}viewSaved(e){this.store.dispatch(m.IU.saved({taskList:e}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-list-detail-edit-page"]],decls:6,vars:8,consts:[[3,"completedTask","cancel","remove","checkout"]],template:function(e,s){1&e&&(t.TgZ(0,"app-task-list-detail-edit",0),t.NdJ("cancel",function(l){return s.viewCancelled(l)})("remove",function(l){return s.viewRemoved(l)})("checkout",function(l){return s.viewSaved(l)}),t.ALo(1,"async"),t.qZA(),t.TgZ(2,"pre"),t._uU(3),t.ALo(4,"json"),t.ALo(5,"async"),t.qZA()),2&e&&(t.Q6J("completedTask",t.lcZ(1,2,s.task$)),t.xp6(3),t.hij("Selected Task List: ",t.lcZ(4,4,t.lcZ(5,6,s.task$)),"\n"))},dependencies:[v,d.Ov,d.Ts],changeDetection:0}),n})(),N=(()=>{class n{constructor(e){this.store=e,this.task$={id:"",name:""}}viewCancelled(e){this.store.dispatch(m.$L.cancelled())}viewSaved(e){this.store.dispatch(m.$L.saved({taskList:e}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-list-detail-new-page"]],decls:4,vars:4,consts:[[3,"completedTask","cancel","checkout"]],template:function(e,s){1&e&&(t.TgZ(0,"app-task-list-detail-new",0),t.NdJ("cancel",function(l){return s.viewCancelled(l)})("checkout",function(l){return s.viewSaved(l)}),t.qZA(),t.TgZ(1,"pre"),t._uU(2),t.ALo(3,"json"),t.qZA()),2&e&&(t.Q6J("completedTask",s.task$),t.xp6(2),t.hij("Selected Task List: ",t.lcZ(3,2,s.task$),"\n"))},dependencies:[P,d.Ts],changeDetection:0}),n})(),_=(()=>{class n{constructor(e){this.store=e,this.taskLists$=e.select(g.m.td)}ngOnInit(){this.store.dispatch(m.MA.enter())}viewNewCurrentTask(){this.store.dispatch(m.MA.newTaskList())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-lists-page"]],decls:2,vars:3,consts:[["data-test","task-lists-page",3,"currentTasks","newCurrentTask"]],template:function(e,s){1&e&&(t.TgZ(0,"app-task-list-list",0),t.NdJ("newCurrentTask",function(){return s.viewNewCurrentTask()}),t.ALo(1,"async"),t.qZA()),2&e&&t.Q6J("currentTasks",t.lcZ(1,1,s.taskLists$))},dependencies:[y,d.Ov],styles:["[_nghost-%COMP%]{background-color:green;display:flex;flex-grow:1;flex-direction:column}"],changeDetection:0}),n})(),b=(()=>{class n{constructor(e){this.store=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-lists-root"]],decls:1,vars:0,template:function(e,s){1&e&&t._UZ(0,"router-outlet")},dependencies:[u.lC],styles:["[_nghost-%COMP%]{background-color:red;display:flex;flex-grow:1;flex-direction:column}"],changeDetection:0}),n})();var J=o(9882),U=o(9646),I=o(7414),z=o(3900),Q=o(262),Y=o(4004),B=o(8505),D=o(5698),R=o(9300),$=o(9665);const j=[{path:"",component:b,canActivate:[J.P],children:[{path:p.k.taskLists.edit.path+"/:"+p.k.taskLists.edit.idParam,component:x,canActivate:[(()=>{class n{constructor(e,s){this.store=e,this.router=s}canActivate(){return this.waitForTaskListsToLoad().pipe((0,I.V)(5e3),(0,z.w)(()=>this.hasTaskListInStore()),(0,Q.K)(e=>(0,U.of)(!1)))}hasTaskListInStore(){return this.store.select(g.F.Pn).pipe((0,Y.U)(e=>void 0!==e),(0,B.b)(e=>{!1===e&&(this.store.dispatch($.$.taskListNotFound()),this.router.navigate(["/404"],{skipLocationChange:!0}))}),(0,D.q)(1))}waitForTaskListsToLoad(){return this.store.select(g.m.Lx).pipe((0,R.h)(e=>e),(0,D.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(k.yh),t.LFG(u.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:p.k.taskLists.new.path,component:N},{path:"",component:_}]}];let X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.Bz.forChild(j),u.Bz]}),n})();const q=[v,P,y],W=[x,N,_,b];let K=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,a.UX,Z.q,X]}),n})()}}]);