(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{kxqF:function(t,e,n){"use strict";n.r(e);var c=n("ofXK"),r=n("fXoL"),o=n("3Pt+"),i=n("quTh"),s=n("aCXV"),a=n("Xlwt"),u=n("TY1r"),l=n("SSqQ"),d=n("tyNb");const b=["cdkDropList","",1,"list",3,"cdkDropListDropped"],p=["cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf","ngForTrackBy"],m=["mat-fab","",1,"fab-bottom-right",3,"click"],h=["cdkDrag","","cdkDragLockAxis","y"],f=[1,"list-item"],g=[3,"checked","change"],k=[3,"routerLink"],C=[1,"middle",3,"ngClass"],v=[1,"name"],w=[1,"description"],x=["cdkDragHandle","",1,"drag-icon"],O=function(t){return["/tasks/current/edit",t]},Z=function(t){return{"line-through":t}};function y(t,e){if(1&t){const t=r.cc();r.bc(0,"div",h),r.bc(1,"div",f),r.bc(2,"mat-checkbox",g),r.hc("change",(function(n){r.vc(t);const c=e.$implicit;return r.mc().toggleCompleteItem.emit(c)})),r.Zb(),r.bc(3,"a",k),r.bc(4,"div",C),r.bc(5,"div",v),r.Hc(6),r.Zb(),r.bc(7,"div",w),r.Hc(8),r.Zb(),r.Zb(),r.Zb(),r.bc(9,"mat-icon",x),r.Hc(10,"drag_handle"),r.Zb(),r.Zb(),r.Zb()}if(2&t){const t=e.$implicit;r.xc(2),r.rc("checked",t.isComplete),r.xc(3),r.rc("routerLink",r.sc(5,O,t.id)),r.xc(4),r.rc("ngClass",r.sc(7,Z,t.isComplete)),r.xc(6),r.Ic(t.name),r.xc(8),r.Ic(t.description)}}let I=(()=>{class t{constructor(){this.reorderItems=new r.s,this.newCurrentTask=new r.s,this.toggleCompleteItem=new r.s}ngOnInit(){}viewTrackBy(t,e){return e.id}drop(t){console.log("currentIndex",t.currentIndex),console.log("previousIndex",t.previousIndex);const e=[...this.currentTasks];Object(s.e)(e,t.previousIndex,t.currentIndex);const n=e.map(t=>t.id);console.log("aaa",e),console.log("bbb",n),n.forEach((t,e)=>{console.log("X:",t,e)}),this.reorderItems.emit(n)}}return t.ngComponentDef=r.Pb({type:t,selectors:[["app-current-task-list"]],factory:function(e){return new(e||t)},inputs:{currentTasks:"currentTasks"},outputs:{reorderItems:"reorderItems",newCurrentTask:"newCurrentTask",toggleCompleteItem:"toggleCompleteItem"},consts:5,vars:2,template:function(t,e){1&t&&(r.bc(0,"div",b),r.hc("cdkDropListDropped",(function(t){return e.drop(t)})),r.Fc(1,y,11,9,"div",p),r.Zb(),r.bc(2,"button",m),r.hc("click",(function(t){return e.newCurrentTask.emit()})),r.bc(3,"mat-icon"),r.Hc(4,"add"),r.Zb(),r.Zb()),2&t&&(r.xc(1),r.rc("ngForOf",e.currentTasks)("ngForTrackBy",e.viewTrackBy))},directives:[s.c,c.k,a.a,u.a,s.a,l.a,d.g,c.j,s.b],styles:["[_nghost-%COMP%]{background-color:green;display:flex;flex-grow:1;flex-direction:column}.cdk-drag-preview[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drop-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform 250ms cubic-bezier(0,0,.2,1);background-color:#00f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.list[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0px;overflow-y:scroll;display:flex;flex-direction:column}.list-item[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding:10px;border-bottom:1px solid #ccc;box-sizing:border-box;background:#fff}mat-checkbox[_ngcontent-%COMP%]{padding-right:10px}.drag-icon[_ngcontent-%COMP%]{cursor:move}.name[_ngcontent-%COMP%]{color:#000;font-size:medium}.description[_ngcontent-%COMP%]{color:gray;font-size:small;white-space:pre-line}.middle[_ngcontent-%COMP%]{flex-grow:1;padding-right:10px}.line-through[_ngcontent-%COMP%]{-webkit-text-decoration-line:line-through;text-decoration-line:line-through}a[_ngcontent-%COMP%]{text-decoration:none;display:flex;flex-wrap:nowrap;flex-grow:1}.fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:60px;bottom:16px;z-index:100}"]}),t})(),T=(()=>{class t{constructor(t){this.formBuilder=t}init(t){this.initialData=Object.assign({},t),this.form=this.formBuilder.group({name:[this.initialData.name,o.o.required],description:[this.initialData.description],isComplete:[this.initialData.isComplete]})}checkout(){const t=Object.assign({},this.initialData,this.form.value);return this.form.reset(),t}}return t.ngInjectableDef=r.Rb({token:t,factory:function(e){return new(e||t)(r.fc(o.c))},providedIn:null}),t})();var D=n("MSSf"),M=n("IRfi"),P=n("A2Vd"),_=n("3aqf");const j=["novalidate","",3,"formGroup","ngSubmit"],F=[1,"shipping-card"],S=["mat-raised-button","","color","primary","type","submit",3,"disabled"],H=["mat-raised-button","","color","accent","type","button",3,"click"],z=[1,"row"],N=[1,"col"],A=["formControlName","isComplete"],L=[1,"full-width"],R=["matInput","","id","name","placeholder","Name","formControlName","name"],q=[4,"ngIf"],V=["matInput","","id","description","placeholder","Description","formControlName","description","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],B=["autosize","cdkTextareaAutosize"];function E(t,e){1&t&&(r.bc(0,"mat-error"),r.Hc(1," Name is "),r.bc(2,"strong"),r.Hc(3,"required"),r.Zb(),r.Zb())}let G=(()=>{class t{constructor(t){this.presenter=t,this.cancel=new r.s,this.checkout=new r.s}get checkoutForm(){return this.presenter.form}ngOnInit(){this.presenter.init(this.todo)}cancelClick(){this.cancel.emit(this.todo)}onSubmit(){const t=this.presenter.checkout();this.checkout.emit(t)}}return t.ngComponentDef=r.Pb({type:t,selectors:[["app-current-task-detail-new"]],factory:function(e){return new(e||t)(r.Vb(T))},inputs:{todo:"todo"},outputs:{cancel:"cancel",checkout:"checkout"},features:[r.Gb([],[T])],consts:25,vars:3,template:function(t,e){1&t&&(r.bc(0,"form",j),r.hc("ngSubmit",(function(t){return e.onSubmit()})),r.bc(1,"mat-card",F),r.bc(2,"mat-card-actions"),r.bc(3,"button",S),r.Hc(4," Submit "),r.Zb(),r.bc(5,"button",H),r.hc("click",(function(t){return e.cancelClick()})),r.Hc(6," Cancel "),r.Zb(),r.Zb(),r.bc(7,"mat-card-header"),r.bc(8,"mat-card-title"),r.Hc(9,"New Current Task"),r.Zb(),r.Zb(),r.bc(10,"mat-card-content"),r.bc(11,"div",z),r.bc(12,"div",N),r.bc(13,"mat-checkbox",A),r.Hc(14,"Is Complete"),r.Zb(),r.Zb(),r.Zb(),r.bc(15,"div",z),r.bc(16,"div",N),r.bc(17,"mat-form-field",L),r.Wb(18,"input",R),r.Fc(19,E,4,0,"mat-error",q),r.Zb(),r.Zb(),r.Zb(),r.bc(20,"div",z),r.bc(21,"div",N),r.bc(22,"mat-form-field",L),r.Wb(23,"textarea",V,B),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb()),2&t&&(r.rc("formGroup",e.checkoutForm),r.xc(3),r.rc("disabled",!(e.checkoutForm.dirty&&e.checkoutForm.valid)),r.xc(19),r.rc("ngIf",e.checkoutForm.controls.name.hasError("required")))},directives:[o.p,o.l,o.g,D.a,D.b,a.a,D.d,D.f,D.c,l.a,o.k,o.f,M.b,P.a,o.b,c.l,_.b,M.a],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{margin:20px auto}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}"]}),t})(),$=(()=>{class t{constructor(t){this.formBuilder=t}init(t){this.initialData=Object.assign({},t),this.form=this.formBuilder.group({name:[this.initialData.name,o.o.required],description:[this.initialData.description],isComplete:[this.initialData.isComplete]})}checkout(){const t=Object.assign({},this.initialData,this.form.value);return this.form.reset(),t}}return t.ngInjectableDef=r.Rb({token:t,factory:function(e){return new(e||t)(r.fc(o.c))},providedIn:null}),t})();const W=["novalidate","",3,"formGroup","ngSubmit"],X=[1,"shipping-card"],J=["mat-raised-button","","color","primary","type","submit",3,"disabled"],K=["mat-raised-button","","color","accent","type","button",3,"click"],Q=[1,"row"],U=[1,"col"],Y=["formControlName","isComplete"],tt=[1,"full-width"],et=["matInput","","id","name","placeholder","Name","formControlName","name"],nt=[4,"ngIf"],ct=["matInput","","id","description","placeholder","Description","formControlName","description","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],rt=["autosize","cdkTextareaAutosize"];function ot(t,e){1&t&&(r.bc(0,"mat-error"),r.Hc(1," Name is "),r.bc(2,"strong"),r.Hc(3,"required"),r.Zb(),r.Zb())}let it=(()=>{class t{constructor(t){this.presenter=t,this.cancel=new r.s,this.remove=new r.s,this.checkout=new r.s}get checkoutForm(){return this.presenter.form}ngOnInit(){this.presenter.init(this.todo)}cancelClick(){this.cancel.emit(this.todo)}removeClick(){this.remove.emit(this.todo)}onSubmit(){const t=this.presenter.checkout();this.checkout.emit(t)}}return t.ngComponentDef=r.Pb({type:t,selectors:[["app-current-task-detail-edit"]],factory:function(e){return new(e||t)(r.Vb($))},inputs:{todo:"todo"},outputs:{cancel:"cancel",remove:"remove",checkout:"checkout"},features:[r.Gb([],[$])],consts:27,vars:3,template:function(t,e){1&t&&(r.bc(0,"form",W),r.hc("ngSubmit",(function(t){return e.onSubmit()})),r.bc(1,"mat-card",X),r.bc(2,"mat-card-actions"),r.bc(3,"button",J),r.Hc(4," Submit "),r.Zb(),r.bc(5,"button",K),r.hc("click",(function(t){return e.cancelClick()})),r.Hc(6," Cancel "),r.Zb(),r.bc(7,"button",K),r.hc("click",(function(t){return e.removeClick()})),r.Hc(8," Remove "),r.Zb(),r.Zb(),r.bc(9,"mat-card-header"),r.bc(10,"mat-card-title"),r.Hc(11,"Edit Current Task"),r.Zb(),r.Zb(),r.bc(12,"mat-card-content"),r.bc(13,"div",Q),r.bc(14,"div",U),r.bc(15,"mat-checkbox",Y),r.Hc(16,"Is Complete"),r.Zb(),r.Zb(),r.Zb(),r.bc(17,"div",Q),r.bc(18,"div",U),r.bc(19,"mat-form-field",tt),r.Wb(20,"input",et),r.Fc(21,ot,4,0,"mat-error",nt),r.Zb(),r.Zb(),r.Zb(),r.bc(22,"div",Q),r.bc(23,"div",U),r.bc(24,"mat-form-field",tt),r.Wb(25,"textarea",ct,rt),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb()),2&t&&(r.rc("formGroup",e.checkoutForm),r.xc(3),r.rc("disabled",!(e.checkoutForm.dirty&&e.checkoutForm.valid)),r.xc(21),r.rc("ngIf",e.checkoutForm.controls.name.hasError("required")))},directives:[o.p,o.l,o.g,D.a,D.b,a.a,D.d,D.f,D.c,l.a,o.k,o.f,M.b,P.a,o.b,c.l,_.b,M.a],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{margin:20px auto}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}"]}),t})();var st=n("kt0X"),at=n("E7rW"),ut=n("9Odd");const lt=[3,"todo","cancel","remove","checkout"];let dt=(()=>{class t{constructor(t){this.store=t,this.task$=t.pipe(Object(st.u)(ut.b.selectCurrentTaskFromRoute))}ngOnInit(){}viewCancelled(t){this.store.dispatch(at.e.cancelled({currentTask:t}))}viewRemoved(t){this.store.dispatch(at.e.removed({currentTask:t}))}viewSaved(t){this.store.dispatch(at.e.saved({currentTask:t}))}}return t.ngComponentDef=r.Pb({type:t,selectors:[["app-current-task-detail-edit-page"]],factory:function(e){return new(e||t)(r.Vb(st.h))},consts:6,vars:8,template:function(t,e){1&t&&(r.bc(0,"app-current-task-detail-edit",lt),r.hc("cancel",(function(t){return e.viewCancelled(t)})),r.hc("remove",(function(t){return e.viewRemoved(t)})),r.hc("checkout",(function(t){return e.viewSaved(t)})),r.nc(1,"async"),r.Zb(),r.bc(2,"pre"),r.Hc(3),r.nc(4,"json"),r.nc(5,"async"),r.Zb()),2&t&&(r.rc("todo",r.oc(1,2,e.task$)),r.xc(3),r.Jc("Selected Current Task: ",r.oc(4,4,r.oc(5,6,e.task$)),"\n"))},directives:[it],pipes:[c.b,c.f],styles:[""],changeDetection:0}),t})();var bt=n("1OTw");const pt=[3,"currentTasks","reorderItems","newCurrentTask","toggleCompleteItem"],mt=["mat-icon-button","",1,"more-vert-menu",3,"matMenuTriggerFor"],ht=["appMenu","matMenu"],ft=["mat-menu-item","",3,"click"];let gt=(()=>{class t{constructor(t){this.store=t,this.currentTasks$=t.pipe(Object(st.u)(ut.b.selectCurrentTasksAll))}ngOnInit(){this.store.dispatch(at.g.enter())}reorderItems(t){this.store.dispatch(at.m.reorderList({ids:t}))}viewClearCompleted(){this.store.dispatch(at.g.clearCompleted())}viewNewCurrentTask(){this.store.dispatch(at.g.newCurrentTask())}toggleCompleteItem(t){const e=Object.assign({},t,{isComplete:!t.isComplete});this.store.dispatch(at.g.saveItem({currentTask:e}))}}return t.ngComponentDef=r.Pb({type:t,selectors:[["app-current-tasks-page"]],factory:function(e){return new(e||t)(r.Vb(st.h))},consts:9,vars:4,template:function(t,e){if(1&t&&(r.bc(0,"app-current-task-list",pt),r.hc("reorderItems",(function(t){return e.reorderItems(t)})),r.hc("newCurrentTask",(function(t){return e.viewNewCurrentTask()})),r.hc("toggleCompleteItem",(function(t){return e.toggleCompleteItem(t)})),r.nc(1,"async"),r.Zb(),r.bc(2,"button",mt),r.bc(3,"mat-icon"),r.Hc(4,"more_vert"),r.Zb(),r.Zb(),r.bc(5,"mat-menu",null,ht),r.bc(7,"button",ft),r.hc("click",(function(t){return e.viewClearCompleted()})),r.Hc(8,"Clear Completed"),r.Zb(),r.Zb()),2&t){const t=r.uc(6);r.rc("currentTasks",r.oc(1,2,e.currentTasks$)),r.xc(2),r.rc("matMenuTriggerFor",t)}},directives:[I,a.a,bt.c,u.a,bt.d,bt.a],pipes:[c.b],styles:["[_nghost-%COMP%]{background-color:green;display:flex;flex-grow:1;flex-direction:column}.more-vert-menu[_ngcontent-%COMP%]{color:#fff;position:fixed;right:10px;top:10px;z-index:100}"],changeDetection:0}),t})();var kt=n("VEkB");const Ct=[3,"todo","cancel","checkout"];let vt=(()=>{class t{constructor(t){this.store=t,this.task=Object(kt.b)()}ngOnInit(){}viewCancelled(t){this.store.dispatch(at.f.cancelled())}viewSaved(t){this.store.dispatch(at.f.saved({currentTask:t}))}}return t.ngComponentDef=r.Pb({type:t,selectors:[["app-current-task-detail-new-page"]],factory:function(e){return new(e||t)(r.Vb(st.h))},consts:4,vars:4,template:function(t,e){1&t&&(r.bc(0,"app-current-task-detail-new",Ct),r.hc("cancel",(function(t){return e.viewCancelled(t)})),r.hc("checkout",(function(t){return e.viewSaved(t)})),r.Zb(),r.bc(1,"pre"),r.Hc(2),r.nc(3,"json"),r.Zb()),2&t&&(r.rc("todo",e.task),r.xc(2),r.Jc("Selected Current Task: ",r.oc(3,2,e.task),"\n"))},directives:[G],pipes:[c.f],styles:[""],changeDetection:0}),t})(),wt=(()=>{class t{constructor(t){this.store=t}ngOnDestroy(){this.store.dispatch(at.h.destroyed())}ngOnInit(){}}return t.ngComponentDef=r.Pb({type:t,selectors:[["app-current-tasks-root"]],factory:function(e){return new(e||t)(r.Vb(st.h))},consts:1,vars:0,template:function(t,e){1&t&&r.Wb(0,"router-outlet")},directives:[d.i],styles:["[_nghost-%COMP%]{background-color:red;display:flex;flex-grow:1;flex-direction:column}"],changeDetection:0}),t})();var xt=n("DKe4"),Ot=n("LRne"),Zt=n("eIep"),yt=n("pLZG"),It=n("SxV6"),Tt=n("vkgz"),Dt=n("IzEk"),Mt=n("fM1L");const Pt=[{path:"",component:wt,canActivate:[xt.a,(()=>{class t{constructor(t){this.store=t}canActivate(){return this.waitForAuth().pipe(Object(Zt.a)(()=>this.waitForCurrentTasksToLoad().pipe(Object(Zt.a)(()=>Object(Ot.a)(!0)))))}waitForAuth(){return this.store.pipe(Object(st.u)(Mt.c.selectUser),Object(yt.a)(t=>!!t),Object(It.a)())}waitForCurrentTasksToLoad(){return this.store.pipe(Object(st.u)(ut.b.selectCurrentTasksLoaded),Object(Tt.a)(t=>{t||this.store.dispatch(at.i.loadData())}),Object(yt.a)(t=>t),Object(Dt.a)(1))}}return t.ngInjectableDef=r.Rb({token:t,factory:function(e){return new(e||t)(r.fc(st.h))},providedIn:"root"}),t})()],children:[{path:"",component:gt},{path:"edit/:id",component:dt},{path:"new",component:vt}]}];let _t=(()=>{class t{}return t.ngModuleDef=r.Tb({type:t}),t.ngInjectorDef=r.Sb({factory:function(e){return new(e||t)},imports:[[d.h.forChild(Pt)],d.h]}),t})();d.h.forChild(Pt);const jt=[it,G,I],Ft=[dt,vt,gt,wt];let St=(()=>{class t{}return t.ngModuleDef=r.Tb({type:t}),t.ngInjectorDef=r.Sb({factory:function(e){return new(e||t)},imports:[[c.c,o.n,i.a,_t]]}),t})();n.d(e,"COMPONENTS",(function(){return jt})),n.d(e,"CONTAINERS",(function(){return Ft})),n.d(e,"CurrentTasksModule",(function(){return St}))}}]);