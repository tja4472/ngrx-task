function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{kxqF:function(e,t,n){"use strict";n.r(t),n.d(t,"COMPONENTS",(function(){return de})),n.d(t,"CONTAINERS",(function(){return me})),n.d(t,"CurrentTasksModule",(function(){return pe}));var r={};n.r(r),n.d(r,"currentTaskNotFound",(function(){return se}));var o=n("ofXK"),i=n("3Pt+"),a=n("quTh"),c=n("5+WD"),s=n("fXoL"),l=n("bTqV"),u=n("NFeN"),d=n("bSwM"),m=n("tyNb"),p=function(e){return["/tasks/current/edit",e]},f=function(e){return{"line-through":e}};function h(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",3),s["\u0275\u0275elementStart"](1,"div",4),s["\u0275\u0275elementStart"](2,"mat-checkbox",5),s["\u0275\u0275listener"]("change",(function(){s["\u0275\u0275restoreView"](n);var e=t.$implicit;return s["\u0275\u0275nextContext"]().toggleCompleteItem.emit(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"a",6),s["\u0275\u0275elementStart"](4,"div",7),s["\u0275\u0275elementStart"](5,"div",8),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",9),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",10),s["\u0275\u0275elementStart"](10,"mat-icon"),s["\u0275\u0275text"](11,"drag_handle"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("checked",r.isComplete),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction1"](5,p,r.id)),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](7,f,r.isComplete)),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](r.name),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](r.description)}}var k,v,g=((v=function(){function e(){_classCallCheck(this,e),this.reorderItems=new s.EventEmitter,this.newCurrentTask=new s.EventEmitter,this.toggleCompleteItem=new s.EventEmitter}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"viewTrackBy",value:function(e,t){return t.id}},{key:"drop",value:function(e){console.log("currentIndex",e.currentIndex),console.log("previousIndex",e.previousIndex);var t=_toConsumableArray(this.currentTasks);Object(c.e)(t,e.previousIndex,e.currentIndex);var n=t.map((function(e){return e.id}));console.log("aaa",t),console.log("bbb",n),n.forEach((function(e,t){console.log("X:",e,t)})),this.reorderItems.emit(n)}}]),e}()).\u0275fac=function(e){return new(e||v)},v.\u0275cmp=s["\u0275\u0275defineComponent"]({type:v,selectors:[["app-current-task-list"]],inputs:{currentTasks:"currentTasks"},outputs:{reorderItems:"reorderItems",newCurrentTask:"newCurrentTask",toggleCompleteItem:"toggleCompleteItem"},decls:5,vars:2,consts:[["cdkDropList","",1,"list",3,"cdkDropListDropped"],["cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf","ngForTrackBy"],["mat-fab","",1,"fab-bottom-right",3,"click"],["cdkDrag","","cdkDragLockAxis","y"],[1,"list-item"],[3,"checked","change"],[3,"routerLink"],[1,"middle",3,"ngClass"],[1,"name"],[1,"description"],["cdkDragHandle","",1,"right"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275listener"]("cdkDropListDropped",(function(e){return t.drop(e)})),s["\u0275\u0275template"](1,h,12,9,"div",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"button",2),s["\u0275\u0275listener"]("click",(function(){return t.newCurrentTask.emit()})),s["\u0275\u0275elementStart"](3,"mat-icon"),s["\u0275\u0275text"](4,"add"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",t.currentTasks)("ngForTrackBy",t.viewTrackBy))},directives:[c.c,o.k,l.a,u.a,c.a,d.a,m.i,o.j,c.b],styles:["[_nghost-%COMP%]{background-color:green;display:flex;flex-grow:1;flex-direction:column}.cdk-drag-preview[_ngcontent-%COMP%]{border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drop-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1);background-color:#00f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.list[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0px;overflow-y:scroll;display:flex;flex-direction:column}.list-item[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding:10px;border-bottom:1px solid #ccc;box-sizing:border-box;background:#fff}mat-checkbox[_ngcontent-%COMP%]{padding-right:10px}.right[_ngcontent-%COMP%]{background:coral;cursor:move;padding-left:10px}.name[_ngcontent-%COMP%]{color:#000;font-size:medium}.description[_ngcontent-%COMP%]{color:grey;font-size:small;white-space:pre-line}.middle[_ngcontent-%COMP%]{flex-grow:1;padding-right:10px}.line-through[_ngcontent-%COMP%]{-webkit-text-decoration-line:line-through;text-decoration-line:line-through}a[_ngcontent-%COMP%]{text-decoration:none;display:flex;flex-wrap:nowrap;flex-grow:1}.fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:60px;bottom:16px;z-index:100}"]}),v),C=((k=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t}return _createClass(e,[{key:"init",value:function(e){this.initialData=Object.assign({},e),this.form=this.formBuilder.group({name:[this.initialData.name,i.r.required],description:[this.initialData.description],isComplete:[this.initialData.isComplete]})}},{key:"checkout",value:function(){var e=Object.assign(Object.assign({},this.initialData),this.form.value);return this.form.reset(),e}}]),e}()).\u0275fac=function(e){return new(e||k)(s["\u0275\u0275inject"](i.d))},k.\u0275prov=s["\u0275\u0275defineInjectable"]({token:k,factory:k.\u0275fac}),k),b=n("Wp6s"),y=n("kmnG"),x=n("qFsG"),w=n("ihCf");function S(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1," Name is "),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"required"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}var E,O,T=((E=function(){function e(t){_classCallCheck(this,e),this.presenter=t,this.cancel=new s.EventEmitter,this.checkout=new s.EventEmitter}return _createClass(e,[{key:"ngOnInit",value:function(){this.presenter.init(this.todo)}},{key:"cancelClick",value:function(){this.cancel.emit(this.todo)}},{key:"onSubmit",value:function(){var e=this.presenter.checkout();this.checkout.emit(e)}},{key:"checkoutForm",get:function(){return this.presenter.form}}]),e}()).\u0275fac=function(e){return new(e||E)(s["\u0275\u0275directiveInject"](C))},E.\u0275cmp=s["\u0275\u0275defineComponent"]({type:E,selectors:[["app-current-task-detail-new"]],inputs:{todo:"todo"},outputs:{cancel:"cancel",checkout:"checkout"},features:[s["\u0275\u0275ProvidersFeature"]([],[C])],decls:25,vars:3,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"shipping-card"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","color","accent","type","button",3,"click"],[1,"row"],[1,"col"],["formControlName","isComplete"],[1,"full-width"],["matInput","","id","name","placeholder","Name","formControlName","name"],[4,"ngIf"],["matInput","","id","description","placeholder","Description","formControlName","description","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"form",0),s["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmit()})),s["\u0275\u0275elementStart"](1,"mat-card",1),s["\u0275\u0275elementStart"](2,"mat-card-actions"),s["\u0275\u0275elementStart"](3,"button",2),s["\u0275\u0275text"](4," Submit "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"button",3),s["\u0275\u0275listener"]("click",(function(){return t.cancelClick()})),s["\u0275\u0275text"](6," Cancel "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"mat-card-header"),s["\u0275\u0275elementStart"](8,"mat-card-title"),s["\u0275\u0275text"](9,"New Current Task"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"mat-card-content"),s["\u0275\u0275elementStart"](11,"div",4),s["\u0275\u0275elementStart"](12,"div",5),s["\u0275\u0275elementStart"](13,"mat-checkbox",6),s["\u0275\u0275text"](14,"Is Complete"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",4),s["\u0275\u0275elementStart"](16,"div",5),s["\u0275\u0275elementStart"](17,"mat-form-field",7),s["\u0275\u0275element"](18,"input",8),s["\u0275\u0275template"](19,S,4,0,"mat-error",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"div",4),s["\u0275\u0275elementStart"](21,"div",5),s["\u0275\u0275elementStart"](22,"mat-form-field",7),s["\u0275\u0275element"](23,"textarea",10,11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("formGroup",t.checkoutForm),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("disabled",!(t.checkoutForm.dirty&&t.checkoutForm.valid)),s["\u0275\u0275advance"](16),s["\u0275\u0275property"]("ngIf",t.checkoutForm.controls.name.hasError("required")))},directives:[i.s,i.n,i.i,b.a,b.b,l.a,b.d,b.f,b.c,d.a,i.m,i.g,y.c,x.a,i.b,o.l,w.b,y.b],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{margin:20px auto}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}"]}),E),_=n("XNiG"),I=n("1G5W"),j=n("VEkB"),M=((O=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t,this.unsubscribe=new _.a}return _createClass(e,[{key:"init",value:function(e){var t=this;this.initialData=Object.assign({},e),this.form=this.formBuilder.group({name:[this.initialData.name,i.r.required],description:[this.initialData.description],isComplete:[this.initialData.isComplete],completedTimestamp:[this.initialData.completedTimestamp]}),this.isCompleteControl.valueChanges.pipe(Object(I.a)(this.unsubscribe)).subscribe((function(e){t.completedTimestampControl.setValue(Object(j.a)(e))}))}},{key:"checkout",value:function(){var e=Object.assign(Object.assign({},this.initialData),this.form.value);return this.form.reset(),e}},{key:"ngOnDestroy",value:function(){this.unsubscribe.next(),this.unsubscribe.complete()}},{key:"completedTimestampControl",get:function(){var e=this.form.get("completedTimestamp");if(null===e)throw new Error("completedTimestamp AbstractControl is null");return e}},{key:"isCompleteControl",get:function(){var e=this.form.get("isComplete");if(null===e)throw new Error("isComplete AbstractControl is null");return e}}]),e}()).\u0275fac=function(e){return new(e||O)(s["\u0275\u0275inject"](i.d))},O.\u0275prov=s["\u0275\u0275defineInjectable"]({token:O,factory:O.\u0275fac}),O);function A(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1," Name is "),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"required"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}var P,F,D,N,L,z,B,R,q,G=((P=function(){function e(t){_classCallCheck(this,e),this.presenter=t,this.cancel=new s.EventEmitter,this.remove=new s.EventEmitter,this.checkout=new s.EventEmitter}return _createClass(e,[{key:"ngOnInit",value:function(){this.presenter.init(this.todo)}},{key:"cancelClick",value:function(){this.cancel.emit(this.todo)}},{key:"removeClick",value:function(){this.remove.emit(this.todo)}},{key:"onSubmit",value:function(){var e=this.presenter.checkout();this.checkout.emit(e)}},{key:"checkoutForm",get:function(){return this.presenter.form}}]),e}()).\u0275fac=function(e){return new(e||P)(s["\u0275\u0275directiveInject"](M))},P.\u0275cmp=s["\u0275\u0275defineComponent"]({type:P,selectors:[["app-current-task-detail-edit"]],inputs:{todo:"todo"},outputs:{cancel:"cancel",remove:"remove",checkout:"checkout"},features:[s["\u0275\u0275ProvidersFeature"]([],[M])],decls:27,vars:3,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"shipping-card"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","color","accent","type","button",3,"click"],[1,"row"],[1,"col"],["formControlName","isComplete"],[1,"full-width"],["matInput","","id","name","placeholder","Name","formControlName","name"],[4,"ngIf"],["matInput","","id","description","placeholder","Description","formControlName","description","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"form",0),s["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmit()})),s["\u0275\u0275elementStart"](1,"mat-card",1),s["\u0275\u0275elementStart"](2,"mat-card-actions"),s["\u0275\u0275elementStart"](3,"button",2),s["\u0275\u0275text"](4," Submit "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"button",3),s["\u0275\u0275listener"]("click",(function(){return t.cancelClick()})),s["\u0275\u0275text"](6," Cancel "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"button",3),s["\u0275\u0275listener"]("click",(function(){return t.removeClick()})),s["\u0275\u0275text"](8," Remove "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"mat-card-header"),s["\u0275\u0275elementStart"](10,"mat-card-title"),s["\u0275\u0275text"](11,"Edit Current Task"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"mat-card-content"),s["\u0275\u0275elementStart"](13,"div",4),s["\u0275\u0275elementStart"](14,"div",5),s["\u0275\u0275elementStart"](15,"mat-checkbox",6),s["\u0275\u0275text"](16,"Is Complete"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"div",4),s["\u0275\u0275elementStart"](18,"div",5),s["\u0275\u0275elementStart"](19,"mat-form-field",7),s["\u0275\u0275element"](20,"input",8),s["\u0275\u0275template"](21,A,4,0,"mat-error",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"div",4),s["\u0275\u0275elementStart"](23,"div",5),s["\u0275\u0275elementStart"](24,"mat-form-field",7),s["\u0275\u0275element"](25,"textarea",10,11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("formGroup",t.checkoutForm),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("disabled",!(t.checkoutForm.dirty&&t.checkoutForm.valid)),s["\u0275\u0275advance"](18),s["\u0275\u0275property"]("ngIf",t.checkoutForm.controls.name.hasError("required")))},directives:[i.s,i.n,i.i,b.a,b.b,l.a,b.d,b.f,b.c,d.a,i.m,i.g,y.c,x.a,i.b,o.l,w.b,y.b],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{margin:20px auto}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}"]}),P),$=n("kt0X"),V=n("pLZG"),W=n("E7rW"),X=n("9Odd"),H=n("VOS0"),J=((F=function(){function e(t){_classCallCheck(this,e),this.store=t,this.task$=t.pipe(Object($.select)(X.b.selectCurrentTaskFromRoute),Object(V.a)(H.isPresent))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"viewCancelled",value:function(e){this.store.dispatch(W.e.cancelled({currentTask:e}))}},{key:"viewRemoved",value:function(e){this.store.dispatch(W.e.removed({currentTask:e}))}},{key:"viewSaved",value:function(e){this.store.dispatch(W.e.saved({currentTask:e}))}}]),e}()).\u0275fac=function(e){return new(e||F)(s["\u0275\u0275directiveInject"]($.Store))},F.\u0275cmp=s["\u0275\u0275defineComponent"]({type:F,selectors:[["app-current-task-detail-edit-page"]],decls:6,vars:8,consts:[[3,"todo","cancel","remove","checkout"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"app-current-task-detail-edit",0),s["\u0275\u0275listener"]("cancel",(function(e){return t.viewCancelled(e)}))("remove",(function(e){return t.viewRemoved(e)}))("checkout",(function(e){return t.viewSaved(e)})),s["\u0275\u0275pipe"](1,"async"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"pre"),s["\u0275\u0275text"](3),s["\u0275\u0275pipe"](4,"json"),s["\u0275\u0275pipe"](5,"async"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("todo",s["\u0275\u0275pipeBind1"](1,2,t.task$)),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("Selected Current Task: ",s["\u0275\u0275pipeBind1"](4,4,s["\u0275\u0275pipeBind1"](5,6,t.task$)),"\n"))},directives:[G],pipes:[o.b,o.f],styles:[""],changeDetection:0}),F),K=n("STbY"),U=((L=function(){function e(t){_classCallCheck(this,e),this.store=t,this.currentTasks$=t.pipe(Object($.select)(X.b.selectCurrentTasksAll))}return _createClass(e,[{key:"ngOnInit",value:function(){this.store.dispatch(W.g.enter())}},{key:"reorderItems",value:function(e){this.store.dispatch(W.m.reorderList({ids:e}))}},{key:"viewClearCompleted",value:function(){this.store.dispatch(W.g.clearCompleted())}},{key:"viewNewCurrentTask",value:function(){this.store.dispatch(W.g.newCurrentTask())}},{key:"toggleCompleteItem",value:function(e){var t=Object(j.e)(e,!e.isComplete);this.store.dispatch(W.g.saveItem({currentTask:t}))}}]),e}()).\u0275fac=function(e){return new(e||L)(s["\u0275\u0275directiveInject"]($.Store))},L.\u0275cmp=s["\u0275\u0275defineComponent"]({type:L,selectors:[["app-current-tasks-page"]],decls:9,vars:4,consts:[[3,"currentTasks","reorderItems","newCurrentTask","toggleCompleteItem"],["mat-icon-button","",1,"more-vert-menu",3,"matMenuTriggerFor"],["appMenu","matMenu"],["mat-menu-item","",3,"click"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"app-current-task-list",0),s["\u0275\u0275listener"]("reorderItems",(function(e){return t.reorderItems(e)}))("newCurrentTask",(function(){return t.viewNewCurrentTask()}))("toggleCompleteItem",(function(e){return t.toggleCompleteItem(e)})),s["\u0275\u0275pipe"](1,"async"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"button",1),s["\u0275\u0275elementStart"](3,"mat-icon"),s["\u0275\u0275text"](4,"more_vert"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"mat-menu",null,2),s["\u0275\u0275elementStart"](7,"button",3),s["\u0275\u0275listener"]("click",(function(){return t.viewClearCompleted()})),s["\u0275\u0275text"](8,"Clear Completed"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275reference"](6);s["\u0275\u0275property"]("currentTasks",s["\u0275\u0275pipeBind1"](1,2,t.currentTasks$)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("matMenuTriggerFor",n)}},directives:[g,l.a,K.c,u.a,K.d,K.a],pipes:[o.b],styles:["[_nghost-%COMP%]{background-color:green;display:flex;flex-grow:1;flex-direction:column}.more-vert-menu[_ngcontent-%COMP%]{color:#fff;position:fixed;right:10px;top:10px;z-index:100}"],changeDetection:0}),L),Y=((N=function(){function e(t){_classCallCheck(this,e),this.store=t,this.task=Object(j.c)()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"viewCancelled",value:function(e){this.store.dispatch(W.f.cancelled())}},{key:"viewSaved",value:function(e){this.store.dispatch(W.f.saved({currentTask:e}))}}]),e}()).\u0275fac=function(e){return new(e||N)(s["\u0275\u0275directiveInject"]($.Store))},N.\u0275cmp=s["\u0275\u0275defineComponent"]({type:N,selectors:[["app-current-task-detail-new-page"]],decls:4,vars:4,consts:[[3,"todo","cancel","checkout"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"app-current-task-detail-new",0),s["\u0275\u0275listener"]("cancel",(function(e){return t.viewCancelled(e)}))("checkout",(function(e){return t.viewSaved(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](1,"pre"),s["\u0275\u0275text"](2),s["\u0275\u0275pipe"](3,"json"),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("todo",t.task),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"]("Selected Current Task: ",s["\u0275\u0275pipeBind1"](3,2,t.task),"\n"))},directives:[T],pipes:[o.f],styles:[""],changeDetection:0}),N),Z=((D=function(){function e(t){_classCallCheck(this,e),this.store=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.store.dispatch(W.h.destroyed())}},{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||D)(s["\u0275\u0275directiveInject"]($.Store))},D.\u0275cmp=s["\u0275\u0275defineComponent"]({type:D,selectors:[["app-current-tasks-root"]],decls:1,vars:0,template:function(e,t){1&e&&s["\u0275\u0275element"](0,"router-outlet")},directives:[m.k],styles:["[_nghost-%COMP%]{background-color:red;display:flex;flex-grow:1;flex-direction:column}"],changeDetection:0}),D),Q=n("DKe4"),ee=n("LRne"),te=n("vkgz"),ne=n("eIep"),re=n("SxV6"),oe=n("IzEk"),ie=n("fM1L"),ae=((z=function(){function e(t){_classCallCheck(this,e),this.store=t}return _createClass(e,[{key:"canActivate",value:function(){var e=this;return this.waitForAuth().pipe(Object(te.a)((function(e){return console.log("waitForAuth - complete>",e)})),Object(ne.a)((function(){return e.waitForCurrentTasksToLoad().pipe(Object(ne.a)((function(){return Object(ee.a)(!0)})))})))}},{key:"waitForAuth",value:function(){return this.store.pipe(Object($.select)(ie.b.selectUser),Object(V.a)((function(e){return!!e})),Object(re.a)())}},{key:"waitForCurrentTasksToLoad",value:function(){var e=this;return this.store.pipe(Object($.select)(X.b.selectCurrentTasksLoaded),Object(te.a)((function(t){t||(console.log("waitForCurrentTasksToLoad:user and taskid?"),e.store.dispatch(W.i.loadData()))})),Object(V.a)((function(e){return e})),Object(oe.a)(1))}}]),e}()).\u0275fac=function(e){return new(e||z)(s["\u0275\u0275inject"]($.Store))},z.\u0275prov=s["\u0275\u0275defineInjectable"]({token:z,factory:z.\u0275fac,providedIn:"root"}),z),ce=n("lJxs"),se=Object($.createAction)("[Current Task Detail Edit Page Component Guard] Current Task Not Found"),le=[{path:"",component:Z,canActivate:[Q.a,ae],children:[{path:"",component:U},{path:"edit/:id",component:J,canActivate:[(B=function(){function e(t,n){_classCallCheck(this,e),this.store=t,this.router=n}return _createClass(e,[{key:"canActivate",value:function(e){return this.hasCurrentTask()}},{key:"hasCurrentTask",value:function(){var e=this;return this.store.pipe(Object($.select)(X.b.selectCurrentTaskFromRoute),Object(ce.a)((function(e){return void 0!==e})),Object(te.a)((function(t){!1===t&&(console.log("hasCurrentTask>",t),e.store.dispatch(r.currentTaskNotFound()),e.router.navigate(["/404"],{skipLocationChange:!0}))})),Object(oe.a)(1))}},{key:"waitForCurrentTasksToLoad",value:function(){return this.store.pipe(Object($.select)(X.b.selectCurrentTasksLoaded),Object(V.a)((function(e){return e})),Object(oe.a)(1))}}]),e}(),B.\u0275fac=function(e){return new(e||B)(s["\u0275\u0275inject"]($.Store),s["\u0275\u0275inject"](m.g))},B.\u0275prov=s["\u0275\u0275defineInjectable"]({token:B,factory:B.\u0275fac,providedIn:"root"}),B)]},{path:"new",component:Y}]}],ue=((R=function e(){_classCallCheck(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:R}),R.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||R)},imports:[[m.j.forChild(le)],m.j]}),R),de=[G,T,g],me=[J,Y,U,Z],pe=((q=function e(){_classCallCheck(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:q}),q.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||q)},imports:[[o.c,i.p,a.a,ue]]}),q)}}]);